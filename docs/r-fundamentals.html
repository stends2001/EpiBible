<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 R fundamentals | Epibible</title>
  <meta name="description" content="Chapter 4 R fundamentals | Epibible" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 R fundamentals | Epibible" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 R fundamentals | Epibible" />
  
  
  

<meta name="author" content="Sten de Schrijver" />


<meta name="date" content="2025-08-22" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="getting-started-with-r.html"/>
<link rel="next" href="introduction-to-the-tidyverse.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Epibible</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-epidemiology.html"><a href="introduction-to-epidemiology.html"><i class="fa fa-check"></i><b>1</b> Introduction to Epidemiology</a></li>
<li class="chapter" data-level="2" data-path="working-with-this-book.html"><a href="working-with-this-book.html"><i class="fa fa-check"></i><b>2</b> Working with this book</a>
<ul>
<li class="chapter" data-level="2.1" data-path="working-with-this-book.html"><a href="working-with-this-book.html#what-is-bookdown"><i class="fa fa-check"></i><b>2.1</b> What is bookdown?</a></li>
<li class="chapter" data-level="2.2" data-path="working-with-this-book.html"><a href="working-with-this-book.html#what-is-markdown"><i class="fa fa-check"></i><b>2.2</b> What is Markdown</a></li>
<li class="chapter" data-level="2.3" data-path="working-with-this-book.html"><a href="working-with-this-book.html#code-snippets"><i class="fa fa-check"></i><b>2.3</b> Code snippets</a></li>
<li class="chapter" data-level="2.4" data-path="working-with-this-book.html"><a href="working-with-this-book.html#other-formats-in-this-book"><i class="fa fa-check"></i><b>2.4</b> Other formats in this book</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i><b>3</b> Getting Started with R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>3.1</b> Installing R and Rstudio</a></li>
<li class="chapter" data-level="3.2" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#starting-to-code"><i class="fa fa-check"></i><b>3.2</b> Starting to code</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-fundamentals.html"><a href="r-fundamentals.html"><i class="fa fa-check"></i><b>4</b> R fundamentals</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-fundamentals.html"><a href="r-fundamentals.html#basic-datatypes-in-r"><i class="fa fa-check"></i><b>4.1</b> Basic Datatypes in R</a></li>
<li class="chapter" data-level="4.2" data-path="r-fundamentals.html"><a href="r-fundamentals.html#special-datatypes"><i class="fa fa-check"></i><b>4.2</b> Special datatypes</a></li>
<li class="chapter" data-level="4.3" data-path="r-fundamentals.html"><a href="r-fundamentals.html#converting-between-datatypes"><i class="fa fa-check"></i><b>4.3</b> Converting between datatypes</a></li>
<li class="chapter" data-level="4.4" data-path="r-fundamentals.html"><a href="r-fundamentals.html#data-structures-in-r"><i class="fa fa-check"></i><b>4.4</b> Data structures in R</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="r-fundamentals.html"><a href="r-fundamentals.html#vectors-the-building-blocks"><i class="fa fa-check"></i><b>4.4.1</b> Vectors: The Building Blocks</a></li>
<li class="chapter" data-level="4.4.2" data-path="r-fundamentals.html"><a href="r-fundamentals.html#lists-mixed-data-collections"><i class="fa fa-check"></i><b>4.4.2</b> Lists: Mixed Data Collections</a></li>
<li class="chapter" data-level="4.4.3" data-path="r-fundamentals.html"><a href="r-fundamentals.html#data-frames-the-excel-of-r"><i class="fa fa-check"></i><b>4.4.3</b> Data Frames: The Excel of R</a></li>
<li class="chapter" data-level="4.4.4" data-path="r-fundamentals.html"><a href="r-fundamentals.html#indexing-accessing-your-data"><i class="fa fa-check"></i><b>4.4.4</b> Indexing: Accessing Your Data</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="r-fundamentals.html"><a href="r-fundamentals.html#conditions-and-comparisons"><i class="fa fa-check"></i><b>4.5</b> Conditions and Comparisons</a></li>
<li class="chapter" data-level="4.6" data-path="r-fundamentals.html"><a href="r-fundamentals.html#conditional-execution-with"><i class="fa fa-check"></i><b>4.6</b> Conditional execution with</a></li>
<li class="chapter" data-level="4.7" data-path="r-fundamentals.html"><a href="r-fundamentals.html#repeating-lines-of-code"><i class="fa fa-check"></i><b>4.7</b> Repeating lines of code</a></li>
<li class="chapter" data-level="4.8" data-path="r-fundamentals.html"><a href="r-fundamentals.html#functions"><i class="fa fa-check"></i><b>4.8</b> Functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>5</b> Introduction to the Tidyverse</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-structure-wide-vs.-tidy-data"><i class="fa fa-check"></i><b>5.1</b> Data Structure: Wide vs. Tidy Data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#understanding-the-difference"><i class="fa fa-check"></i><b>5.1.1</b> Understanding the Difference</a></li>
<li class="chapter" data-level="5.1.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#reshaping-data-with-tidyr"><i class="fa fa-check"></i><b>5.1.2</b> Reshaping Data with tidyr</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#core-dplyr-functions-for-data-manipulation"><i class="fa fa-check"></i><b>5.2</b> Core dplyr Functions for Data Manipulation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#the-pipe-operator"><i class="fa fa-check"></i><b>5.2.1</b> The Pipe Operator (<code>%&gt;%</code>)</a></li>
<li class="chapter" data-level="5.2.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#select-choose-columns"><i class="fa fa-check"></i><b>5.2.2</b> <code>select()</code>: Choose Columns</a></li>
<li class="chapter" data-level="5.2.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filter-choose-rows"><i class="fa fa-check"></i><b>5.2.3</b> <code>filter()</code>: Choose Rows</a></li>
<li class="chapter" data-level="5.2.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#mutate-create-or-modify-columns"><i class="fa fa-check"></i><b>5.2.4</b> <code>mutate()</code>: Create or Modify Columns</a></li>
<li class="chapter" data-level="5.2.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#transmute-create-new-columns-drop-others"><i class="fa fa-check"></i><b>5.2.5</b> <code>transmute()</code>: Create New Columns (Drop Others)</a></li>
<li class="chapter" data-level="5.2.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#arrange-sort-rows"><i class="fa fa-check"></i><b>5.2.6</b> <code>arrange()</code>: Sort Rows</a></li>
<li class="chapter" data-level="5.2.7" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#group_by-and-summarise-group-operations"><i class="fa fa-check"></i><b>5.2.7</b> <code>group_by()</code> and <code>summarise()</code>: Group Operations</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#additional-essential-functions"><i class="fa fa-check"></i><b>5.3</b> Additional Essential Functions</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#rename-change-column-names"><i class="fa fa-check"></i><b>5.3.1</b> <code>rename()</code>: Change Column Names</a></li>
<li class="chapter" data-level="5.3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-type-conversions"><i class="fa fa-check"></i><b>5.3.2</b> Data Type Conversions</a></li>
<li class="chapter" data-level="5.3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#across-apply-functions-to-multiple-columns"><i class="fa fa-check"></i><b>5.3.3</b> <code>across()</code>: Apply Functions to Multiple Columns</a></li>
<li class="chapter" data-level="5.3.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#recode-recode-values"><i class="fa fa-check"></i><b>5.3.4</b> <code>recode()</code>: Recode Values</a></li>
<li class="chapter" data-level="5.3.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#case_when-multiple-conditional-logic"><i class="fa fa-check"></i><b>5.3.5</b> <code>case_when()</code>: Multiple Conditional Logic</a></li>
<li class="chapter" data-level="5.3.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#replace_na-handle-missing-values"><i class="fa fa-check"></i><b>5.3.6</b> <code>replace_na()</code>: Handle Missing Values</a></li>
<li class="chapter" data-level="5.3.7" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#which-find-positions"><i class="fa fa-check"></i><b>5.3.7</b> <code>which()</code>: Find Positions</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#practical-example-data-analysis-workflow"><i class="fa fa-check"></i><b>5.4</b> Practical Example: Data Analysis Workflow</a></li>
<li class="chapter" data-level="5.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#function-summary-table"><i class="fa fa-check"></i><b>5.5</b> Function Summary Table</a></li>
<li class="chapter" data-level="5.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#conclusion"><i class="fa fa-check"></i><b>5.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html"><i class="fa fa-check"></i><b>6</b> Data Visualization in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#ggplot2-the-grammar-of-graphics"><i class="fa fa-check"></i><b>6.1</b> ggplot2: The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#basic-ggplot2-structure"><i class="fa fa-check"></i><b>6.1.1</b> Basic ggplot2 Structure</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#basic-plot-types"><i class="fa fa-check"></i><b>6.2</b> Basic Plot Types</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#scatter-plots-with-geom_point"><i class="fa fa-check"></i><b>6.2.1</b> Scatter Plots with <code>geom_point()</code></a></li>
<li class="chapter" data-level="6.2.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#line-plots-with-geom_line"><i class="fa fa-check"></i><b>6.2.2</b> Line Plots with <code>geom_line()</code></a></li>
<li class="chapter" data-level="6.2.3" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#bar-plots-with-geom_col-and-geom_bar"><i class="fa fa-check"></i><b>6.2.3</b> Bar Plots with <code>geom_col()</code> and <code>geom_bar()</code></a></li>
<li class="chapter" data-level="6.2.4" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#histograms-with-geom_histogram"><i class="fa fa-check"></i><b>6.2.4</b> Histograms with <code>geom_histogram()</code></a></li>
<li class="chapter" data-level="6.2.5" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#box-plots-with-geom_boxplot"><i class="fa fa-check"></i><b>6.2.5</b> Box Plots with <code>geom_boxplot()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#aesthetic-mappings"><i class="fa fa-check"></i><b>6.3</b> Aesthetic Mappings</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#understanding-aes"><i class="fa fa-check"></i><b>6.3.1</b> Understanding <code>aes()</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#fixed-vs.-mapped-aesthetics"><i class="fa fa-check"></i><b>6.3.2</b> Fixed vs. Mapped Aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#faceting-small-multiples"><i class="fa fa-check"></i><b>6.4</b> Faceting: Small Multiples</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#facet_wrap"><i class="fa fa-check"></i><b>6.4.1</b> <code>facet_wrap()</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#facet_grid"><i class="fa fa-check"></i><b>6.4.2</b> <code>facet_grid()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#statistical-transformations"><i class="fa fa-check"></i><b>6.5</b> Statistical Transformations</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#smooth-lines-with-geom_smooth"><i class="fa fa-check"></i><b>6.5.1</b> Smooth Lines with <code>geom_smooth()</code></a></li>
<li class="chapter" data-level="6.5.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#statistical-summaries"><i class="fa fa-check"></i><b>6.5.2</b> Statistical Summaries</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#scales-controlling-aesthetic-mappings"><i class="fa fa-check"></i><b>6.6</b> Scales: Controlling Aesthetic Mappings</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#color-scales"><i class="fa fa-check"></i><b>6.6.1</b> Color Scales</a></li>
<li class="chapter" data-level="6.6.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#axis-scales"><i class="fa fa-check"></i><b>6.6.2</b> Axis Scales</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#coordinates-and-transformations"><i class="fa fa-check"></i><b>6.7</b> Coordinates and Transformations</a></li>
<li class="chapter" data-level="6.8" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#labels-and-themes"><i class="fa fa-check"></i><b>6.8</b> Labels and Themes</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#adding-labels"><i class="fa fa-check"></i><b>6.8.1</b> Adding Labels</a></li>
<li class="chapter" data-level="6.8.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#theme-customization"><i class="fa fa-check"></i><b>6.8.2</b> Theme Customization</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#heatmaps"><i class="fa fa-check"></i><b>6.9</b> Heatmaps</a></li>
<li class="chapter" data-level="6.10" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#combining-multiple-geoms"><i class="fa fa-check"></i><b>6.10</b> Combining Multiple Geoms</a></li>
<li class="chapter" data-level="6.11" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#text-and-annotations"><i class="fa fa-check"></i><b>6.11</b> Text and Annotations</a></li>
<li class="chapter" data-level="6.12" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#practical-example-complex-multi-layered-plot"><i class="fa fa-check"></i><b>6.12</b> Practical Example: Complex Multi-layered Plot</a></li>
<li class="chapter" data-level="6.13" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#ggplot2-function-summary-table"><i class="fa fa-check"></i><b>6.13</b> ggplot2 Function Summary Table</a></li>
<li class="chapter" data-level="6.14" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#conclusion-1"><i class="fa fa-check"></i><b>6.14</b> Conclusion</a></li>
<li class="chapter" data-level="6.15" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#my-favorite-figures-i-ever-made"><i class="fa fa-check"></i><b>6.15</b> My favorite figures I ever made</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>7</b> Statistics</a></li>
<li class="chapter" data-level="8" data-path="working-with-epidemiological-data.html"><a href="working-with-epidemiological-data.html"><i class="fa fa-check"></i><b>8</b> Working with epidemiological data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="working-with-epidemiological-data.html"><a href="working-with-epidemiological-data.html#acessing-data"><i class="fa fa-check"></i><b>8.1</b> Acessing data</a></li>
<li class="chapter" data-level="8.2" data-path="working-with-epidemiological-data.html"><a href="working-with-epidemiological-data.html#case-study-1-yellow-fever"><i class="fa fa-check"></i><b>8.2</b> Case Study 1: Yellow Fever</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html"><i class="fa fa-check"></i><b>9</b> Case study: Dengue Fever in Brazil</a></li>
<li class="chapter" data-level="10" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>10</b> Modelling</a>
<ul>
<li class="chapter" data-level="10.1" data-path="modelling.html"><a href="modelling.html#compartmental-models"><i class="fa fa-check"></i><b>10.1</b> Compartmental models</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="modelling.html"><a href="modelling.html#sir-model-in-theory"><i class="fa fa-check"></i><b>10.1.1</b> SIR model in theory</a></li>
<li class="chapter" data-level="10.1.2" data-path="modelling.html"><a href="modelling.html#sir-model-in-r"><i class="fa fa-check"></i><b>10.1.2</b> SIR model in R</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="modelling.html"><a href="modelling.html#time-series---forecasting"><i class="fa fa-check"></i><b>10.2</b> Time series - Forecasting</a></li>
<li class="chapter" data-level="10.3" data-path="modelling.html"><a href="modelling.html#using-and-applying-models"><i class="fa fa-check"></i><b>10.3</b> Using and applying models</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html"><i class="fa fa-check"></i><b>11</b> Communication and sharing of code and data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#writing-code-best-practices"><i class="fa fa-check"></i><b>11.1</b> Writing code: best practices</a></li>
<li class="chapter" data-level="11.2" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#github"><i class="fa fa-check"></i><b>11.2</b> Github</a></li>
<li class="chapter" data-level="11.3" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#reports-using-markdown"><i class="fa fa-check"></i><b>11.3</b> Reports using Markdown</a></li>
<li class="chapter" data-level="11.4" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#open-science"><i class="fa fa-check"></i><b>11.4</b> Open science</a></li>
<li class="chapter" data-level="11.5" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#communities-and-forums"><i class="fa fa-check"></i><b>11.5</b> Communities and forums</a></li>
<li class="chapter" data-level="11.6" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#how-to-use-chat-gpt"><i class="fa fa-check"></i><b>11.6</b> How to use Chat-GPT</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="recommended-reading.html"><a href="recommended-reading.html"><i class="fa fa-check"></i><b>12</b> Recommended Reading</a>
<ul>
<li class="chapter" data-level="12.1" data-path="recommended-reading.html"><a href="recommended-reading.html#recommended-textbooks-and-courses"><i class="fa fa-check"></i><b>12.1</b> Recommended textbooks and courses</a></li>
<li class="chapter" data-level="12.2" data-path="recommended-reading.html"><a href="recommended-reading.html#useful-packages"><i class="fa fa-check"></i><b>12.2</b> Useful packages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Epibible</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-fundamentals" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">Chapter 4</span> R fundamentals<a href="r-fundamentals.html#r-fundamentals" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="basic-datatypes-in-r" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> Basic Datatypes in R<a href="r-fundamentals.html#basic-datatypes-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When coding, we work with variables. Say we start our code with <code>x=1</code>, then x is a variable. We can do some calculations with <code>x</code>, and we can change <code>x</code>, depending on the type of data that the variable is. In R, variables can represent the following <strong>datatypes</strong>:</p>
<table>
<thead>
<tr class="header">
<th>Type</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Numeric</td>
<td>Real number</td>
<td><code>3.14</code>, <code>-6.7</code></td>
</tr>
<tr class="even">
<td>Integer</td>
<td>Whole number</td>
<td><code>1</code>, <code>4</code>, <code>16</code></td>
</tr>
<tr class="odd">
<td>Character</td>
<td>Text or string</td>
<td><code>a</code>, <code>hello!</code></td>
</tr>
<tr class="even">
<td>Logical</td>
<td>Boolean</td>
<td><code>TRUE</code>, <code>FALSE</code></td>
</tr>
</tbody>
</table>
<p>The specification of a datatype is very important. While some datatypes may allow certain functionality, others may not. We can sum two numeric variables, which we can also do for two integers. When we try to add two characters to each other though, R will throw an error. Have a look yourself.</p>
<p><strong>summing two numeric datatypes</strong></p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="r-fundamentals.html#cb7-1" tabindex="-1"></a>x <span class="ot">=</span> <span class="fl">1.1</span></span>
<span id="cb7-2"><a href="r-fundamentals.html#cb7-2" tabindex="-1"></a>y <span class="ot">=</span> <span class="fl">2.9</span></span>
<span id="cb7-3"><a href="r-fundamentals.html#cb7-3" tabindex="-1"></a><span class="fu">print</span>(x<span class="sc">+</span>y)</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p><strong>summing two characters</strong></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="r-fundamentals.html#cb9-1" tabindex="-1"></a>text1 <span class="ot">=</span> <span class="st">&#39;hello&#39;</span></span>
<span id="cb9-2"><a href="r-fundamentals.html#cb9-2" tabindex="-1"></a>text2 <span class="ot">=</span> <span class="st">&#39;there!&#39;</span></span>
<span id="cb9-3"><a href="r-fundamentals.html#cb9-3" tabindex="-1"></a><span class="co"># print(text1+text2) -&gt; this will throw an error!</span></span></code></pre></div>
<p>While this doesn’t work, there are ways of combining, or rather <strong>concatenating</strong> two strings, namely using <code>paste()</code> and <code>paste0()</code>:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="r-fundamentals.html#cb10-1" tabindex="-1"></a><span class="fu">paste</span>(text1, text2) </span></code></pre></div>
<pre><code>## [1] &quot;hello there!&quot;</code></pre>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="r-fundamentals.html#cb12-1" tabindex="-1"></a><span class="fu">paste0</span>(text1, text2)   </span></code></pre></div>
<pre><code>## [1] &quot;hellothere!&quot;</code></pre>
</div>
<div id="special-datatypes" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> Special datatypes<a href="r-fundamentals.html#special-datatypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Besides the basic types of variables mentioned below, R also supports some special datatypes:
| Type | Description | Example |
| ——- | ———————————– | ———————– |
| Date | Calendar date | <code>as.Date('2025-08-01')</code> |
| NA | Missing value | |
| NULL | Empty object | |
| (-) Inf | Positive or negative infinity | <code>1/0</code>, <code>-1/0</code> |
| NaN | Not a Number: undefined mathematics | <code>0/0</code> |</p>
<p>When working with dates, it is very handy to convert what is normally read as text (so “2025-01-01”) into Date because there is some additional functionality for resampling dates, and for plotting dates. The others, so <code>NA</code>, <code>NULL</code>, <code>INF</code> and <code>NaN</code> often show something is going wrong in the process, so watch out for these!</p>
</div>
<div id="converting-between-datatypes" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Converting between datatypes<a href="r-fundamentals.html#converting-between-datatypes" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>It is often necessary to convert data from one type to another. This process is called <strong>type conversion</strong> or <strong>casting</strong>.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="r-fundamentals.html#cb14-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;123&quot;</span></span>
<span id="cb14-2"><a href="r-fundamentals.html#cb14-2" tabindex="-1"></a>num_x <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(x)   </span>
<span id="cb14-3"><a href="r-fundamentals.html#cb14-3" tabindex="-1"></a><span class="fu">print</span>(num_x <span class="sc">+</span> <span class="dv">10</span>)       </span></code></pre></div>
<pre><code>## [1] 133</code></pre>
<p>For conversion, watch out for these things:
- NA introduction: if conversion fails, R returns an NA=&gt; <code>as.numeric("hello")</code>
- Loss of information: <code>as.integer(3.99)</code> will return 3, not 4!
- Convering booleans: <code>as.numeric(TRUE)</code> returns and <code>as.numeric(FALSE)</code> returns 0</p>
</div>
<div id="data-structures-in-r" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Data structures in R<a href="r-fundamentals.html#data-structures-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>While it’s nice to be able to work with variables and single datapoints, more often than not we want to work with objects that include multiple data points, and sometimes even different datatypes. These we call <strong>data structures</strong>. In R, we have the following ones:</p>
<table>
<colgroup>
<col width="4%" />
<col width="62%" />
<col width="33%" />
</colgroup>
<thead>
<tr class="header">
<th>Structure</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>List</td>
<td>Collection of any datatypes</td>
<td><code>list1 = ['A', 1, TRUE]</code></td>
</tr>
<tr class="even">
<td>Vector</td>
<td>Sequence of elements of the same datatype</td>
<td><code>vector1 = c(1,2,3)</code><br><code>vector2 = c('A','B','C')</code></td>
</tr>
<tr class="odd">
<td>Matrix</td>
<td>2-Dimensional - vector: one object of strictly the same datatype</td>
<td><code>matrix1 = matrix(1:6, nrow=2)</code></td>
</tr>
<tr class="even">
<td>Array</td>
<td>Multi-Dimensional matrix equivalent</td>
<td></td>
</tr>
<tr class="odd">
<td>Factor</td>
<td>A special type of vector: one with categorical values.<br>Internally, these values are then seen as a limited number of distinct groups (called levels)</td>
<td><code>vector_levels = c('high','medium','high')</code><br><code>factor1 = factor(vector_levels)</code></td>
</tr>
<tr class="even">
<td>Data frame</td>
<td>Table-like structure with columns that can be mixed datatypes.<br>A single column has one specific datatype</td>
<td></td>
</tr>
</tbody>
</table>
<p>The <strong>Data frame</strong> is particularly important. Any excel table that we open in R is put into a Data frame.</p>
<div id="vectors-the-building-blocks" class="section level3 hasAnchor" number="4.4.1">
<h3><span class="header-section-number">4.4.1</span> Vectors: The Building Blocks<a href="r-fundamentals.html#vectors-the-building-blocks" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Vectors are the most fundamental data structure in R. Even when you assign a single number like x &lt;- 5, you’re actually creating a vector with one element! Here’s how to work with them:
Creating vectors:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="r-fundamentals.html#cb16-1" tabindex="-1"></a><span class="co"># Numeric vector</span></span>
<span id="cb16-2"><a href="r-fundamentals.html#cb16-2" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>)</span>
<span id="cb16-3"><a href="r-fundamentals.html#cb16-3" tabindex="-1"></a></span>
<span id="cb16-4"><a href="r-fundamentals.html#cb16-4" tabindex="-1"></a><span class="co"># Character vector  </span></span>
<span id="cb16-5"><a href="r-fundamentals.html#cb16-5" tabindex="-1"></a>names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Charlie&quot;</span>)</span>
<span id="cb16-6"><a href="r-fundamentals.html#cb16-6" tabindex="-1"></a></span>
<span id="cb16-7"><a href="r-fundamentals.html#cb16-7" tabindex="-1"></a><span class="co"># Logical vector</span></span>
<span id="cb16-8"><a href="r-fundamentals.html#cb16-8" tabindex="-1"></a>results <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb16-9"><a href="r-fundamentals.html#cb16-9" tabindex="-1"></a></span>
<span id="cb16-10"><a href="r-fundamentals.html#cb16-10" tabindex="-1"></a><span class="co"># Using sequences</span></span>
<span id="cb16-11"><a href="r-fundamentals.html#cb16-11" tabindex="-1"></a>sequence1 <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>           <span class="co"># Numbers 1 to 10</span></span>
<span id="cb16-12"><a href="r-fundamentals.html#cb16-12" tabindex="-1"></a>sequence2 <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="fl">0.1</span>) <span class="co"># From 0 to 1 in steps of 0.1</span></span></code></pre></div>
<p>Vector operations:
One of R’s powerful features is vectorization - operations apply to entire vectors at once:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="r-fundamentals.html#cb17-1" tabindex="-1"></a>numbers <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb17-2"><a href="r-fundamentals.html#cb17-2" tabindex="-1"></a>numbers <span class="sc">*</span> <span class="dv">2</span>        <span class="co"># Multiply all elements by 2: (2, 4, 6, 8)</span></span></code></pre></div>
<pre><code>## [1] 2 4 6 8</code></pre>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="r-fundamentals.html#cb19-1" tabindex="-1"></a>numbers <span class="sc">+</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>)  <span class="co"># Add corresponding elements: (11, 22, 33, 44)</span></span></code></pre></div>
<pre><code>## [1] 11 22 33 44</code></pre>
</div>
<div id="lists-mixed-data-collections" class="section level3 hasAnchor" number="4.4.2">
<h3><span class="header-section-number">4.4.2</span> Lists: Mixed Data Collections<a href="r-fundamentals.html#lists-mixed-data-collections" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Lists are like vectors but can hold different datatypes. Think of them as containers where each “slot” can hold anything:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="r-fundamentals.html#cb21-1" tabindex="-1"></a><span class="co"># Creating a list with mixed datatypes</span></span>
<span id="cb21-2"><a href="r-fundamentals.html#cb21-2" tabindex="-1"></a>mixed_list <span class="ot">&lt;-</span> <span class="fu">list</span>(</span>
<span id="cb21-3"><a href="r-fundamentals.html#cb21-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="st">&quot;John&quot;</span>,</span>
<span id="cb21-4"><a href="r-fundamentals.html#cb21-4" tabindex="-1"></a>  <span class="at">age =</span> <span class="dv">25</span>,</span>
<span id="cb21-5"><a href="r-fundamentals.html#cb21-5" tabindex="-1"></a>  <span class="at">married =</span> <span class="cn">TRUE</span>,</span>
<span id="cb21-6"><a href="r-fundamentals.html#cb21-6" tabindex="-1"></a>  <span class="at">children =</span> <span class="fu">c</span>(<span class="st">&quot;Emma&quot;</span>, <span class="st">&quot;Liam&quot;</span>)</span>
<span id="cb21-7"><a href="r-fundamentals.html#cb21-7" tabindex="-1"></a>)</span>
<span id="cb21-8"><a href="r-fundamentals.html#cb21-8" tabindex="-1"></a></span>
<span id="cb21-9"><a href="r-fundamentals.html#cb21-9" tabindex="-1"></a><span class="co"># You can also create lists without names</span></span>
<span id="cb21-10"><a href="r-fundamentals.html#cb21-10" tabindex="-1"></a>simple_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="st">&quot;text&quot;</span>, <span class="dv">42</span>, <span class="cn">TRUE</span>)</span></code></pre></div>
<p>When to use lists vs vectors:</p>
<p>Vectors: When all your data is the same type (all numbers, all text, etc.)
Lists: When you need to store different types together, or when you want to store complex objects</p>
</div>
<div id="data-frames-the-excel-of-r" class="section level3 hasAnchor" number="4.4.3">
<h3><span class="header-section-number">4.4.3</span> Data Frames: The Excel of R<a href="r-fundamentals.html#data-frames-the-excel-of-r" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Data frames are like Excel spreadsheets - they have rows and columns, where each column can be a different datatype but within a column, all values must be the same type.
Creating a data frame:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="r-fundamentals.html#cb22-1" tabindex="-1"></a><span class="co"># Creating a simple data frame</span></span>
<span id="cb22-2"><a href="r-fundamentals.html#cb22-2" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb22-3"><a href="r-fundamentals.html#cb22-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Charlie&quot;</span>),</span>
<span id="cb22-4"><a href="r-fundamentals.html#cb22-4" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">19</span>),</span>
<span id="cb22-5"><a href="r-fundamentals.html#cb22-5" tabindex="-1"></a>  <span class="at">grade =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A+&quot;</span>),</span>
<span id="cb22-6"><a href="r-fundamentals.html#cb22-6" tabindex="-1"></a>  <span class="at">passed =</span> <span class="fu">c</span>(<span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb22-7"><a href="r-fundamentals.html#cb22-7" tabindex="-1"></a>)</span>
<span id="cb22-8"><a href="r-fundamentals.html#cb22-8" tabindex="-1"></a></span>
<span id="cb22-9"><a href="r-fundamentals.html#cb22-9" tabindex="-1"></a><span class="fu">print</span>(students)</span></code></pre></div>
<pre><code>##      name age grade passed
## 1   Alice  20     A   TRUE
## 2     Bob  21     B   TRUE
## 3 Charlie  19    A+   TRUE</code></pre>
</div>
<div id="indexing-accessing-your-data" class="section level3 hasAnchor" number="4.4.4">
<h3><span class="header-section-number">4.4.4</span> Indexing: Accessing Your Data<a href="r-fundamentals.html#indexing-accessing-your-data" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Once you have data stored in these structures, you need to be able to get specific pieces out. This is called indexing or subsetting.</p>
<p>Position-based indexing (using square brackets []):</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="r-fundamentals.html#cb24-1" tabindex="-1"></a><span class="co"># indexing - vectors</span></span>
<span id="cb24-2"><a href="r-fundamentals.html#cb24-2" tabindex="-1"></a>numbers_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>, <span class="dv">40</span>, <span class="dv">50</span>)</span>
<span id="cb24-3"><a href="r-fundamentals.html#cb24-3" tabindex="-1"></a></span>
<span id="cb24-4"><a href="r-fundamentals.html#cb24-4" tabindex="-1"></a>numbers_vector[<span class="dv">1</span>]        <span class="co"># First element: 10</span></span></code></pre></div>
<pre><code>## [1] 10</code></pre>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="r-fundamentals.html#cb26-1" tabindex="-1"></a>numbers_vector[<span class="dv">3</span>]        <span class="co"># Third element: 30</span></span></code></pre></div>
<pre><code>## [1] 30</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="r-fundamentals.html#cb28-1" tabindex="-1"></a>numbers_vector[<span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">3</span>)]  <span class="co"># First and third elements: 10, 30</span></span></code></pre></div>
<pre><code>## [1] 10 30</code></pre>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="r-fundamentals.html#cb30-1" tabindex="-1"></a><span class="co"># indexing - lists</span></span>
<span id="cb30-2"><a href="r-fundamentals.html#cb30-2" tabindex="-1"></a>mixed_list <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="dv">1</span>, <span class="st">&quot;2&quot;</span>, <span class="fl">6.7</span>)</span>
<span id="cb30-3"><a href="r-fundamentals.html#cb30-3" tabindex="-1"></a>mixed_list[<span class="dv">1</span>]          <span class="co"># Returns a list containing just the name</span></span></code></pre></div>
<pre><code>## [[1]]
## [1] 1</code></pre>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="r-fundamentals.html#cb32-1" tabindex="-1"></a>mixed_list[<span class="dv">2</span>]</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;2&quot;</code></pre>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="r-fundamentals.html#cb34-1" tabindex="-1"></a><span class="co"># indexing - data frame</span></span>
<span id="cb34-2"><a href="r-fundamentals.html#cb34-2" tabindex="-1"></a>students <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb34-3"><a href="r-fundamentals.html#cb34-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="st">&quot;Charlie&quot;</span>),</span>
<span id="cb34-4"><a href="r-fundamentals.html#cb34-4" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">20</span>, <span class="dv">21</span>, <span class="dv">19</span>),</span>
<span id="cb34-5"><a href="r-fundamentals.html#cb34-5" tabindex="-1"></a>  <span class="at">grade =</span> <span class="fu">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;A+&quot;</span>)</span>
<span id="cb34-6"><a href="r-fundamentals.html#cb34-6" tabindex="-1"></a>)</span>
<span id="cb34-7"><a href="r-fundamentals.html#cb34-7" tabindex="-1"></a></span>
<span id="cb34-8"><a href="r-fundamentals.html#cb34-8" tabindex="-1"></a><span class="co"># Matrix-style indexing [row, column]</span></span>
<span id="cb34-9"><a href="r-fundamentals.html#cb34-9" tabindex="-1"></a>students[<span class="dv">1</span>, <span class="dv">2</span>]         <span class="co"># First row, second column: 20</span></span></code></pre></div>
<pre><code>## [1] 20</code></pre>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="r-fundamentals.html#cb36-1" tabindex="-1"></a>students[<span class="dv">1</span>, ]          <span class="co"># Entire first row</span></span></code></pre></div>
<pre><code>##    name age grade
## 1 Alice  20     A</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="r-fundamentals.html#cb38-1" tabindex="-1"></a>students[, <span class="dv">2</span>]          <span class="co"># Entire second column (ages)</span></span></code></pre></div>
<pre><code>## [1] 20 21 19</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="r-fundamentals.html#cb40-1" tabindex="-1"></a>students[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>, <span class="fu">c</span>(<span class="st">&quot;name&quot;</span>, <span class="st">&quot;age&quot;</span>)]  <span class="co"># First two rows, name and age columns</span></span></code></pre></div>
<pre><code>##    name age
## 1 Alice  20
## 2   Bob  21</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="r-fundamentals.html#cb42-1" tabindex="-1"></a><span class="co"># List-style indexing (by column)</span></span>
<span id="cb42-2"><a href="r-fundamentals.html#cb42-2" tabindex="-1"></a>students<span class="sc">$</span>name          <span class="co"># The name column</span></span></code></pre></div>
<pre><code>## [1] &quot;Alice&quot;   &quot;Bob&quot;     &quot;Charlie&quot;</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="r-fundamentals.html#cb44-1" tabindex="-1"></a>students[[<span class="st">&quot;age&quot;</span>]]      <span class="co"># The age column</span></span></code></pre></div>
<pre><code>## [1] 20 21 19</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="r-fundamentals.html#cb46-1" tabindex="-1"></a>students[<span class="st">&quot;grade&quot;</span>]      <span class="co"># The grade column (returns data frame)</span></span></code></pre></div>
<pre><code>##   grade
## 1     A
## 2     B
## 3    A+</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="r-fundamentals.html#cb48-1" tabindex="-1"></a><span class="co"># Logical indexing</span></span>
<span id="cb48-2"><a href="r-fundamentals.html#cb48-2" tabindex="-1"></a>students[students<span class="sc">$</span>age <span class="sc">&gt;</span> <span class="dv">20</span>, ]        <span class="co"># All rows where age &gt; 20</span></span></code></pre></div>
<pre><code>##   name age grade
## 2  Bob  21     B</code></pre>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="r-fundamentals.html#cb50-1" tabindex="-1"></a>students[students<span class="sc">$</span>grade <span class="sc">==</span> <span class="st">&quot;A&quot;</span>, ]    <span class="co"># All rows where grade is &quot;A&quot;</span></span></code></pre></div>
<pre><code>##    name age grade
## 1 Alice  20     A</code></pre>
<p>Understanding these data structures and how to index them is crucial because almost everything you do in R involves manipulating data stored in these formats. Whether you’re reading a CSV file (which becomes a data frame), performing calculations (often on vectors), or organizing complex results (in lists), these concepts form the foundation of effective R programming.</p>
</div>
</div>
<div id="conditions-and-comparisons" class="section level2 hasAnchor" number="4.5">
<h2><span class="header-section-number">4.5</span> Conditions and Comparisons<a href="r-fundamentals.html#conditions-and-comparisons" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>One thing we often need to do with our datatypes, are <strong>comparisons</strong>. This is basically checking whether a statement is <code>TRUE</code> or <code>FALSE</code>. Here are the basic <strong>comparison operators</strong> in R:</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Example</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>  ==</td>
<td>Equal to</td>
<td><code>3 == 3</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>!=</code></td>
<td>Not equal to</td>
<td><code>3 != 5</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>&gt;</code></td>
<td>Greater than</td>
<td><code>4 &gt; 2</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>&lt;</code></td>
<td>Less than</td>
<td><code>4 &lt; 2</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td><code>&gt;=</code></td>
<td>Greater than or equal to</td>
<td><code>4 &gt;= 4</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="even">
<td><code>&lt;=</code></td>
<td>Less than or equal to</td>
<td><code>4 &lt;= 3</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="odd">
<td><code>%in%</code></td>
<td>Element inside an object</td>
<td><code>1 %in% c(1,2)</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table>
<p>And for combining logical statements, we use <strong>operators</strong>, of which these are available:</p>
<table>
<thead>
<tr class="header">
<th>Operator</th>
<th>Meaning</th>
<th>Example</th>
<th>Result</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>&amp;</code></td>
<td>AND</td>
<td><code>TRUE &amp; FALSE</code></td>
<td><code>FALSE</code></td>
</tr>
<tr class="even">
<td><code>|</code></td>
<td>OR</td>
<td><code>TRUE | FALSE</code></td>
<td><code>TRUE</code></td>
</tr>
<tr class="odd">
<td><code>!</code></td>
<td>NOT</td>
<td><code>!FALSE</code></td>
<td><code>TRUE</code></td>
</tr>
</tbody>
</table>
</div>
<div id="conditional-execution-with" class="section level2 hasAnchor" number="4.6">
<h2><span class="header-section-number">4.6</span> Conditional execution with<a href="r-fundamentals.html#conditional-execution-with" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sometimes we only want to execute a piece of code under a certain condition. For that, we have what is called an <strong>if-statement</strong>. In R we write <code>if (...comparison...){code to be executed}</code>.</p>
<p>The basic if statement:</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="r-fundamentals.html#cb52-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb52-2"><a href="r-fundamentals.html#cb52-2" tabindex="-1"></a></span>
<span id="cb52-3"><a href="r-fundamentals.html#cb52-3" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb52-4"><a href="r-fundamentals.html#cb52-4" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is positive&quot;</span>)</span>
<span id="cb52-5"><a href="r-fundamentals.html#cb52-5" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;x is positive&quot;</code></pre>
<p>Besides the <code>if</code> part, we can also add an <code>else</code> part, which will be executed if the comparison is <code>FALSE</code>.</p>
<p><code>if ... else</code></p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="r-fundamentals.html#cb54-1" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="sc">-</span><span class="dv">1</span></span>
<span id="cb54-2"><a href="r-fundamentals.html#cb54-2" tabindex="-1"></a><span class="cf">if</span> (x <span class="sc">&gt;</span> <span class="dv">0</span>) {</span>
<span id="cb54-3"><a href="r-fundamentals.html#cb54-3" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is positive&quot;</span>)</span>
<span id="cb54-4"><a href="r-fundamentals.html#cb54-4" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb54-5"><a href="r-fundamentals.html#cb54-5" tabindex="-1"></a>  <span class="fu">print</span>(<span class="st">&quot;x is not positive&quot;</span>)</span>
<span id="cb54-6"><a href="r-fundamentals.html#cb54-6" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;x is not positive&quot;</code></pre>
</div>
<div id="repeating-lines-of-code" class="section level2 hasAnchor" number="4.7">
<h2><span class="header-section-number">4.7</span> Repeating lines of code<a href="r-fundamentals.html#repeating-lines-of-code" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Sometimes, we want to execute a piece of code a certain number of times, or we want to execute the same code based on a bunch of different variables. We can repeat code using a <code>for - loop</code>. Basically, we write <code>for (iteration) {code to be executed}</code>. For example, let’s print the numbers 1 to 5. For that to be done, first we write a vector from 1 to 5, which we do through <code>1:5</code>. Then we iterate through all the elements in that vector by:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="r-fundamentals.html#cb56-1" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>) { <span class="co"># for i = 1 until i = 5</span></span>
<span id="cb56-2"><a href="r-fundamentals.html#cb56-2" tabindex="-1"></a>  <span class="fu">print</span>(i)</span>
<span id="cb56-3"><a href="r-fundamentals.html#cb56-3" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] 1
## [1] 2
## [1] 3
## [1] 4
## [1] 5</code></pre>
<p>That was a classical example where we iterate through a bunch of integers. We can also iterate through other things:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="r-fundamentals.html#cb58-1" tabindex="-1"></a>names <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&#39;Marie Curie&#39;</span>, <span class="st">&#39;Jenniffer Doudna&#39;</span>, <span class="st">&#39;Alexander Flemming&#39;</span>)</span>
<span id="cb58-2"><a href="r-fundamentals.html#cb58-2" tabindex="-1"></a></span>
<span id="cb58-3"><a href="r-fundamentals.html#cb58-3" tabindex="-1"></a><span class="cf">for</span> (name <span class="cf">in</span> names) {</span>
<span id="cb58-4"><a href="r-fundamentals.html#cb58-4" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(name, <span class="st">&quot;won the Nobel Prize&quot;</span>))</span>
<span id="cb58-5"><a href="r-fundamentals.html#cb58-5" tabindex="-1"></a>}</span></code></pre></div>
<pre><code>## [1] &quot;Marie Curie won the Nobel Prize&quot;
## [1] &quot;Jenniffer Doudna won the Nobel Prize&quot;
## [1] &quot;Alexander Flemming won the Nobel Prize&quot;</code></pre>
</div>
<div id="functions" class="section level2 hasAnchor" number="4.8">
<h2><span class="header-section-number">4.8</span> Functions<a href="r-fundamentals.html#functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>People write code into functions in R. These are sometimes added into packages and published, so that anyone using R can use them. Examples of functions are <code>paste()</code>, <code>log()</code> (taking the logarithm base 10 of a number) and many others. When we make our own code, we sometimes end up writing huge chunks that we want to repeat, but can’t really put in a for loop. For that we can write our own functions! Here I’ll show an example testing whether or not our variable is negative or positive:</p>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="r-fundamentals.html#cb60-1" tabindex="-1"></a>positive_check <span class="ot">&lt;-</span> <span class="cf">function</span>(x) { <span class="co"># the name of the function is positive_or_negative, with the parameter &#39;x&#39;</span></span>
<span id="cb60-2"><a href="r-fundamentals.html#cb60-2" tabindex="-1"></a>  <span class="cf">if</span> (x <span class="sc">&lt;</span> <span class="dv">0</span>) {                        <span class="co"># if x is smaller than 0</span></span>
<span id="cb60-3"><a href="r-fundamentals.html#cb60-3" tabindex="-1"></a>    <span class="fu">return</span>(<span class="cn">FALSE</span>)                     <span class="co"># the output of the function is FALSE</span></span>
<span id="cb60-4"><a href="r-fundamentals.html#cb60-4" tabindex="-1"></a>  } <span class="cf">else</span> {                            <span class="co"># otherwise (if x is larger than, or equal to, 0)</span></span>
<span id="cb60-5"><a href="r-fundamentals.html#cb60-5" tabindex="-1"></a>    <span class="fu">return</span>(<span class="cn">TRUE</span>)                      <span class="co"># return TRUE</span></span>
<span id="cb60-6"><a href="r-fundamentals.html#cb60-6" tabindex="-1"></a>  }</span>
<span id="cb60-7"><a href="r-fundamentals.html#cb60-7" tabindex="-1"></a>}</span></code></pre></div>
<p>And now that we’ve defined this function we can easily use it by <code>positive_check(1)</code>, for example:</p>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="r-fundamentals.html#cb61-1" tabindex="-1"></a><span class="fu">positive_check</span>(<span class="dv">1</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb63"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb63-1"><a href="r-fundamentals.html#cb63-1" tabindex="-1"></a><span class="fu">positive_check</span>(<span class="cn">Inf</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="getting-started-with-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="introduction-to-the-tidyverse.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/stends2001/EpiBible/blob/main04-R-fundamentals.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["EpiBible.pdf", "EpiBible.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
