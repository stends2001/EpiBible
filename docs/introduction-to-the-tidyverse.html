<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 5 Introduction to the Tidyverse | Epidemiology in R: A Hands-on Approach</title>
  <meta name="description" content="Chapter 5 Introduction to the Tidyverse | Epidemiology in R: A Hands-on Approach" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 5 Introduction to the Tidyverse | Epidemiology in R: A Hands-on Approach" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 5 Introduction to the Tidyverse | Epidemiology in R: A Hands-on Approach" />
  
  
  

<meta name="author" content="Sten de Schrijver" />


<meta name="date" content="2025-08-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="r-fundamentals.html"/>
<link rel="next" href="data-visualization-in-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Epidemiology in R: A Hands-on Approach</a></li>
<li class="chapter" data-level="" data-path="preface.html"><a href="preface.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="chapter" data-level="" data-path="about-the-author.html"><a href="about-the-author.html"><i class="fa fa-check"></i>About the Author</a></li>
<li class="chapter" data-level="1" data-path="introduction-to-epidemiology.html"><a href="introduction-to-epidemiology.html"><i class="fa fa-check"></i><b>1</b> Introduction to Epidemiology</a></li>
<li class="chapter" data-level="2" data-path="working-with-this-book.html"><a href="working-with-this-book.html"><i class="fa fa-check"></i><b>2</b> Working with this book</a>
<ul>
<li class="chapter" data-level="2.1" data-path="working-with-this-book.html"><a href="working-with-this-book.html#what-is-bookdown"><i class="fa fa-check"></i><b>2.1</b> What is bookdown?</a></li>
<li class="chapter" data-level="2.2" data-path="working-with-this-book.html"><a href="working-with-this-book.html#code-snippets"><i class="fa fa-check"></i><b>2.2</b> Code snippets</a></li>
<li class="chapter" data-level="2.3" data-path="working-with-this-book.html"><a href="working-with-this-book.html#a-hands-on-approach"><i class="fa fa-check"></i><b>2.3</b> A Hand’s-on Approach</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html"><i class="fa fa-check"></i><b>3</b> Getting Started with R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>3.1</b> Installing R and Rstudio</a></li>
<li class="chapter" data-level="3.2" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#starting-to-code"><i class="fa fa-check"></i><b>3.2</b> Starting to code</a></li>
<li class="chapter" data-level="3.3" data-path="getting-started-with-r.html"><a href="getting-started-with-r.html#r-projects-and-organization"><i class="fa fa-check"></i><b>3.3</b> R Projects and Organization</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="r-fundamentals.html"><a href="r-fundamentals.html"><i class="fa fa-check"></i><b>4</b> R fundamentals</a>
<ul>
<li class="chapter" data-level="4.1" data-path="r-fundamentals.html"><a href="r-fundamentals.html#basic-datatypes-in-r"><i class="fa fa-check"></i><b>4.1</b> Basic Datatypes in R</a></li>
<li class="chapter" data-level="4.2" data-path="r-fundamentals.html"><a href="r-fundamentals.html#special-datatypes"><i class="fa fa-check"></i><b>4.2</b> Special datatypes</a></li>
<li class="chapter" data-level="4.3" data-path="r-fundamentals.html"><a href="r-fundamentals.html#converting-between-datatypes"><i class="fa fa-check"></i><b>4.3</b> Converting between datatypes</a></li>
<li class="chapter" data-level="4.4" data-path="r-fundamentals.html"><a href="r-fundamentals.html#data-structures-in-r"><i class="fa fa-check"></i><b>4.4</b> Data structures in R</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="r-fundamentals.html"><a href="r-fundamentals.html#vectors-the-building-blocks"><i class="fa fa-check"></i><b>4.4.1</b> Vectors: The Building Blocks</a></li>
<li class="chapter" data-level="4.4.2" data-path="r-fundamentals.html"><a href="r-fundamentals.html#lists-mixed-data-collections"><i class="fa fa-check"></i><b>4.4.2</b> Lists: Mixed Data Collections</a></li>
<li class="chapter" data-level="4.4.3" data-path="r-fundamentals.html"><a href="r-fundamentals.html#data-frames-the-excel-of-r"><i class="fa fa-check"></i><b>4.4.3</b> Data Frames: The Excel of R</a></li>
<li class="chapter" data-level="4.4.4" data-path="r-fundamentals.html"><a href="r-fundamentals.html#indexing-accessing-your-data"><i class="fa fa-check"></i><b>4.4.4</b> Indexing: Accessing Your Data</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="r-fundamentals.html"><a href="r-fundamentals.html#conditions-and-comparisons"><i class="fa fa-check"></i><b>4.5</b> Conditions and Comparisons</a></li>
<li class="chapter" data-level="4.6" data-path="r-fundamentals.html"><a href="r-fundamentals.html#conditional-execution-with"><i class="fa fa-check"></i><b>4.6</b> Conditional execution with</a></li>
<li class="chapter" data-level="4.7" data-path="r-fundamentals.html"><a href="r-fundamentals.html#repeating-lines-of-code"><i class="fa fa-check"></i><b>4.7</b> Repeating lines of code</a></li>
<li class="chapter" data-level="4.8" data-path="r-fundamentals.html"><a href="r-fundamentals.html#functions"><i class="fa fa-check"></i><b>4.8</b> Functions</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html"><i class="fa fa-check"></i><b>5</b> Introduction to the Tidyverse</a>
<ul>
<li class="chapter" data-level="5.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-structure-wide-vs.-tidy-data"><i class="fa fa-check"></i><b>5.1</b> Data Structure: Wide vs. Tidy Data</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#understanding-the-difference"><i class="fa fa-check"></i><b>5.1.1</b> Understanding the Difference</a></li>
<li class="chapter" data-level="5.1.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#reshaping-data-with-tidyr"><i class="fa fa-check"></i><b>5.1.2</b> Reshaping Data with tidyr</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#core-dplyr-functions-for-data-manipulation"><i class="fa fa-check"></i><b>5.2</b> Core dplyr Functions for Data Manipulation</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#the-pipe-operator"><i class="fa fa-check"></i><b>5.2.1</b> The Pipe Operator (<code>%&gt;%</code>)</a></li>
<li class="chapter" data-level="5.2.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#select-choose-columns"><i class="fa fa-check"></i><b>5.2.2</b> <code>select()</code>: Choose Columns</a></li>
<li class="chapter" data-level="5.2.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#filter-choose-rows"><i class="fa fa-check"></i><b>5.2.3</b> <code>filter()</code>: Choose Rows</a></li>
<li class="chapter" data-level="5.2.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#mutate-create-or-modify-columns"><i class="fa fa-check"></i><b>5.2.4</b> <code>mutate()</code>: Create or Modify Columns</a></li>
<li class="chapter" data-level="5.2.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#transmute-create-new-columns-drop-others"><i class="fa fa-check"></i><b>5.2.5</b> <code>transmute()</code>: Create New Columns (Drop Others)</a></li>
<li class="chapter" data-level="5.2.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#arrange-sort-rows"><i class="fa fa-check"></i><b>5.2.6</b> <code>arrange()</code>: Sort Rows</a></li>
<li class="chapter" data-level="5.2.7" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#group_by-and-summarise-group-operations"><i class="fa fa-check"></i><b>5.2.7</b> <code>group_by()</code> and <code>summarise()</code>: Group Operations</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#additional-essential-functions"><i class="fa fa-check"></i><b>5.3</b> Additional Essential Functions</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#rename-change-column-names"><i class="fa fa-check"></i><b>5.3.1</b> <code>rename()</code>: Change Column Names</a></li>
<li class="chapter" data-level="5.3.2" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#data-type-conversions"><i class="fa fa-check"></i><b>5.3.2</b> Data Type Conversions</a></li>
<li class="chapter" data-level="5.3.3" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#across-apply-functions-to-multiple-columns"><i class="fa fa-check"></i><b>5.3.3</b> <code>across()</code>: Apply Functions to Multiple Columns</a></li>
<li class="chapter" data-level="5.3.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#recode-recode-values"><i class="fa fa-check"></i><b>5.3.4</b> <code>recode()</code>: Recode Values</a></li>
<li class="chapter" data-level="5.3.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#case_when-multiple-conditional-logic"><i class="fa fa-check"></i><b>5.3.5</b> <code>case_when()</code>: Multiple Conditional Logic</a></li>
<li class="chapter" data-level="5.3.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#replace_na-handle-missing-values"><i class="fa fa-check"></i><b>5.3.6</b> <code>replace_na()</code>: Handle Missing Values</a></li>
<li class="chapter" data-level="5.3.7" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#which-find-positions"><i class="fa fa-check"></i><b>5.3.7</b> <code>which()</code>: Find Positions</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#practical-example-data-analysis-workflow"><i class="fa fa-check"></i><b>5.4</b> Practical Example: Data Analysis Workflow</a></li>
<li class="chapter" data-level="5.5" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#function-summary-table"><i class="fa fa-check"></i><b>5.5</b> Function Summary Table</a></li>
<li class="chapter" data-level="5.6" data-path="introduction-to-the-tidyverse.html"><a href="introduction-to-the-tidyverse.html#conclusion"><i class="fa fa-check"></i><b>5.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html"><i class="fa fa-check"></i><b>6</b> Data Visualization in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#ggplot2-the-grammar-of-graphics"><i class="fa fa-check"></i><b>6.1</b> ggplot2: The Grammar of Graphics</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#basic-ggplot2-structure"><i class="fa fa-check"></i><b>6.1.1</b> Basic ggplot2 Structure</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#basic-plot-types"><i class="fa fa-check"></i><b>6.2</b> Basic Plot Types</a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#scatter-plots-with-geom_point"><i class="fa fa-check"></i><b>6.2.1</b> Scatter Plots with <code>geom_point()</code></a></li>
<li class="chapter" data-level="6.2.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#line-plots-with-geom_line"><i class="fa fa-check"></i><b>6.2.2</b> Line Plots with <code>geom_line()</code></a></li>
<li class="chapter" data-level="6.2.3" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#bar-plots-with-geom_col-and-geom_bar"><i class="fa fa-check"></i><b>6.2.3</b> Bar Plots with <code>geom_col()</code> and <code>geom_bar()</code></a></li>
<li class="chapter" data-level="6.2.4" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#histograms-with-geom_histogram"><i class="fa fa-check"></i><b>6.2.4</b> Histograms with <code>geom_histogram()</code></a></li>
<li class="chapter" data-level="6.2.5" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#box-plots-with-geom_boxplot"><i class="fa fa-check"></i><b>6.2.5</b> Box Plots with <code>geom_boxplot()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#aesthetic-mappings"><i class="fa fa-check"></i><b>6.3</b> Aesthetic Mappings</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#understanding-aes"><i class="fa fa-check"></i><b>6.3.1</b> Understanding <code>aes()</code></a></li>
<li class="chapter" data-level="6.3.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#fixed-vs.-mapped-aesthetics"><i class="fa fa-check"></i><b>6.3.2</b> Fixed vs. Mapped Aesthetics</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#faceting-small-multiples"><i class="fa fa-check"></i><b>6.4</b> Faceting: Small Multiples</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#facet_wrap"><i class="fa fa-check"></i><b>6.4.1</b> <code>facet_wrap()</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#facet_grid"><i class="fa fa-check"></i><b>6.4.2</b> <code>facet_grid()</code></a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#statistical-transformations"><i class="fa fa-check"></i><b>6.5</b> Statistical Transformations</a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#smooth-lines-with-geom_smooth"><i class="fa fa-check"></i><b>6.5.1</b> Smooth Lines with <code>geom_smooth()</code></a></li>
<li class="chapter" data-level="6.5.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#statistical-summaries"><i class="fa fa-check"></i><b>6.5.2</b> Statistical Summaries</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#scales-controlling-aesthetic-mappings"><i class="fa fa-check"></i><b>6.6</b> Scales: Controlling Aesthetic Mappings</a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#color-scales"><i class="fa fa-check"></i><b>6.6.1</b> Color Scales</a></li>
<li class="chapter" data-level="6.6.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#axis-scales"><i class="fa fa-check"></i><b>6.6.2</b> Axis Scales</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#coordinates-and-transformations"><i class="fa fa-check"></i><b>6.7</b> Coordinates and Transformations</a></li>
<li class="chapter" data-level="6.8" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#labels-and-themes"><i class="fa fa-check"></i><b>6.8</b> Labels and Themes</a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#adding-labels"><i class="fa fa-check"></i><b>6.8.1</b> Adding Labels</a></li>
<li class="chapter" data-level="6.8.2" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#theme-customization"><i class="fa fa-check"></i><b>6.8.2</b> Theme Customization</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#heatmaps"><i class="fa fa-check"></i><b>6.9</b> Heatmaps</a></li>
<li class="chapter" data-level="6.10" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#combining-multiple-geoms"><i class="fa fa-check"></i><b>6.10</b> Combining Multiple Geoms</a></li>
<li class="chapter" data-level="6.11" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#text-and-annotations"><i class="fa fa-check"></i><b>6.11</b> Text and Annotations</a></li>
<li class="chapter" data-level="6.12" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#practical-example-complex-multi-layered-plot"><i class="fa fa-check"></i><b>6.12</b> Practical Example: Complex Multi-layered Plot</a></li>
<li class="chapter" data-level="6.13" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#ggplot2-function-summary-table"><i class="fa fa-check"></i><b>6.13</b> ggplot2 Function Summary Table</a></li>
<li class="chapter" data-level="6.14" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#tips-and-tricks"><i class="fa fa-check"></i><b>6.14</b> Tips and Tricks</a></li>
<li class="chapter" data-level="6.15" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#conclusion-1"><i class="fa fa-check"></i><b>6.15</b> Conclusion</a></li>
<li class="chapter" data-level="6.16" data-path="data-visualization-in-r.html"><a href="data-visualization-in-r.html#my-favorite-figures-i-ever-made"><i class="fa fa-check"></i><b>6.16</b> My favorite figures I ever made</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="statistics.html"><a href="statistics.html"><i class="fa fa-check"></i><b>7</b> Statistics</a>
<ul>
<li class="chapter" data-level="7.1" data-path="statistics.html"><a href="statistics.html#descriptive-statistics-and-outbreak-investigation"><i class="fa fa-check"></i><b>7.1</b> Descriptive statistics and outbreak investigation</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="statistics.html"><a href="statistics.html#introduction"><i class="fa fa-check"></i><b>7.1.1</b> Introduction</a></li>
<li class="chapter" data-level="7.1.2" data-path="statistics.html"><a href="statistics.html#loading-and-exploring-the-data"><i class="fa fa-check"></i><b>7.1.2</b> Loading and Exploring the Data</a></li>
<li class="chapter" data-level="7.1.3" data-path="statistics.html"><a href="statistics.html#data-preparation-creating-a-tidy-dataset"><i class="fa fa-check"></i><b>7.1.3</b> Data Preparation: Creating a Tidy Dataset</a></li>
<li class="chapter" data-level="7.1.4" data-path="statistics.html"><a href="statistics.html#initial-visual-exploration"><i class="fa fa-check"></i><b>7.1.4</b> Initial Visual Exploration</a></li>
<li class="chapter" data-level="7.1.5" data-path="statistics.html"><a href="statistics.html#comparing-cases-and-controls"><i class="fa fa-check"></i><b>7.1.5</b> Comparing Cases and Controls</a></li>
<li class="chapter" data-level="7.1.6" data-path="statistics.html"><a href="statistics.html#statistical-analysis-attack-rates-and-odds-ratios"><i class="fa fa-check"></i><b>7.1.6</b> Statistical Analysis: Attack Rates and Odds Ratios</a></li>
<li class="chapter" data-level="7.1.7" data-path="statistics.html"><a href="statistics.html#calculating-statistics-for-our-data"><i class="fa fa-check"></i><b>7.1.7</b> Calculating Statistics for Our Data</a></li>
<li class="chapter" data-level="7.1.8" data-path="statistics.html"><a href="statistics.html#interpretation-of-results"><i class="fa fa-check"></i><b>7.1.8</b> Interpretation of Results</a></li>
<li class="chapter" data-level="7.1.9" data-path="statistics.html"><a href="statistics.html#conclusion-2"><i class="fa fa-check"></i><b>7.1.9</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="statistics.html"><a href="statistics.html#inferential-statistics-in-epidemiology"><i class="fa fa-check"></i><b>7.2</b> Inferential statistics in epidemiology</a></li>
<li class="chapter" data-level="7.3" data-path="statistics.html"><a href="statistics.html#inferential-statistics-in-epidemiology-1"><i class="fa fa-check"></i><b>7.3</b> Inferential Statistics in Epidemiology</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="statistics.html"><a href="statistics.html#understanding-statistical-significance"><i class="fa fa-check"></i><b>7.3.1</b> Understanding Statistical Significance</a></li>
<li class="chapter" data-level="7.3.2" data-path="statistics.html"><a href="statistics.html#comparing-demographics-between-cases-and-controls"><i class="fa fa-check"></i><b>7.3.2</b> Comparing Demographics Between Cases and Controls</a></li>
<li class="chapter" data-level="7.3.3" data-path="statistics.html"><a href="statistics.html#testing-food-exposures-statistical-significance-of-associations"><i class="fa fa-check"></i><b>7.3.3</b> Testing Food Exposures: Statistical Significance of Associations</a></li>
<li class="chapter" data-level="7.3.4" data-path="statistics.html"><a href="statistics.html#confidence-intervals-for-odds-ratios"><i class="fa fa-check"></i><b>7.3.4</b> Confidence Intervals for Odds Ratios</a></li>
<li class="chapter" data-level="7.3.5" data-path="statistics.html"><a href="statistics.html#interpreting-the-results"><i class="fa fa-check"></i><b>7.3.5</b> Interpreting the Results</a></li>
<li class="chapter" data-level="7.3.6" data-path="statistics.html"><a href="statistics.html#key-statistical-concepts-for-interpretation"><i class="fa fa-check"></i><b>7.3.6</b> Key Statistical Concepts for Interpretation</a></li>
<li class="chapter" data-level="7.3.7" data-path="statistics.html"><a href="statistics.html#summary"><i class="fa fa-check"></i><b>7.3.7</b> Summary</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="working-with-epidemiological-data.html"><a href="working-with-epidemiological-data.html"><i class="fa fa-check"></i><b>8</b> Working with epidemiological data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="working-with-epidemiological-data.html"><a href="working-with-epidemiological-data.html#acessing-data"><i class="fa fa-check"></i><b>8.1</b> Acessing data</a></li>
<li class="chapter" data-level="8.2" data-path="working-with-epidemiological-data.html"><a href="working-with-epidemiological-data.html#imperfect-epidemiological-data"><i class="fa fa-check"></i><b>8.2</b> (Imperfect) epidemiological data</a></li>
<li class="chapter" data-level="8.3" data-path="working-with-epidemiological-data.html"><a href="working-with-epidemiological-data.html#case-study-1-yellow-fever"><i class="fa fa-check"></i><b>8.3</b> Case Study 1: Yellow Fever</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html"><i class="fa fa-check"></i><b>9</b> Case Study: Dengue Fever in Brazil</a>
<ul>
<li class="chapter" data-level="9.1" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#introduction-1"><i class="fa fa-check"></i><b>9.1</b> Introduction</a></li>
<li class="chapter" data-level="9.2" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#data-sources-and-structure"><i class="fa fa-check"></i><b>9.2</b> Data Sources and Structure</a></li>
<li class="chapter" data-level="9.3" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#data-import-and-preparation"><i class="fa fa-check"></i><b>9.3</b> Data Import and Preparation</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#data-type-standardization"><i class="fa fa-check"></i><b>9.3.1</b> Data Type Standardization</a></li>
<li class="chapter" data-level="9.3.2" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#geographic-data-import"><i class="fa fa-check"></i><b>9.3.2</b> Geographic Data Import</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#temporal-analysis-national-dengue-trends"><i class="fa fa-check"></i><b>9.4</b> Temporal Analysis: National Dengue Trends</a></li>
<li class="chapter" data-level="9.5" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#spatial-analysis-environmental-context"><i class="fa fa-check"></i><b>9.5</b> Spatial Analysis: Environmental Context</a></li>
<li class="chapter" data-level="9.6" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#temporal-spatial-analysis-annual-incidence-maps"><i class="fa fa-check"></i><b>9.6</b> Temporal-Spatial Analysis: Annual Incidence Maps</a></li>
<li class="chapter" data-level="9.7" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#climate-oscillations-large-scale-environmental-drivers"><i class="fa fa-check"></i><b>9.7</b> Climate Oscillations: Large-Scale Environmental Drivers</a></li>
<li class="chapter" data-level="9.8" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#ecological-analysis-incidence-by-environmental-zones"><i class="fa fa-check"></i><b>9.8</b> Ecological Analysis: Incidence by Environmental Zones</a></li>
<li class="chapter" data-level="9.9" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#seasonal-analysis-weekly-patterns-by-biome"><i class="fa fa-check"></i><b>9.9</b> Seasonal Analysis: Weekly Patterns by Biome</a></li>
<li class="chapter" data-level="9.10" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#discussion-and-key-findings"><i class="fa fa-check"></i><b>9.10</b> Discussion and Key Findings</a></li>
<li class="chapter" data-level="9.11" data-path="case-study-dengue-fever-in-brazil.html"><a href="case-study-dengue-fever-in-brazil.html#further-analysis-opportunities"><i class="fa fa-check"></i><b>9.11</b> Further Analysis Opportunities</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>10</b> Modelling</a>
<ul>
<li class="chapter" data-level="10.1" data-path="modelling.html"><a href="modelling.html#compartmental-models"><i class="fa fa-check"></i><b>10.1</b> Compartmental models</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="modelling.html"><a href="modelling.html#sir-model-in-theory"><i class="fa fa-check"></i><b>10.1.1</b> SIR model in theory</a></li>
<li class="chapter" data-level="10.1.2" data-path="modelling.html"><a href="modelling.html#sir-model-in-r"><i class="fa fa-check"></i><b>10.1.2</b> SIR model in R</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="modelling.html"><a href="modelling.html#time-series---forecasting"><i class="fa fa-check"></i><b>10.2</b> Time series - Forecasting</a></li>
<li class="chapter" data-level="10.3" data-path="modelling.html"><a href="modelling.html#using-and-applying-models"><i class="fa fa-check"></i><b>10.3</b> Using and applying models</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html"><i class="fa fa-check"></i><b>11</b> Communication and sharing of code and data</a>
<ul>
<li class="chapter" data-level="11.1" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#writing-code-best-practices"><i class="fa fa-check"></i><b>11.1</b> Writing code: best practices</a></li>
<li class="chapter" data-level="11.2" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#github"><i class="fa fa-check"></i><b>11.2</b> Github</a></li>
<li class="chapter" data-level="11.3" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#reports-using-markdown"><i class="fa fa-check"></i><b>11.3</b> Reports using Markdown</a></li>
<li class="chapter" data-level="11.4" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#open-science"><i class="fa fa-check"></i><b>11.4</b> Open science</a></li>
<li class="chapter" data-level="11.5" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#communities-and-forums"><i class="fa fa-check"></i><b>11.5</b> Communities and forums</a></li>
<li class="chapter" data-level="11.6" data-path="communication-and-sharing-of-code-and-data.html"><a href="communication-and-sharing-of-code-and-data.html#how-to-use-chat-gpt"><i class="fa fa-check"></i><b>11.6</b> How to use Chat-GPT</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="recommended-reading.html"><a href="recommended-reading.html"><i class="fa fa-check"></i><b>12</b> Recommended Reading</a>
<ul>
<li class="chapter" data-level="12.1" data-path="recommended-reading.html"><a href="recommended-reading.html#recommended-textbooks-and-courses"><i class="fa fa-check"></i><b>12.1</b> Recommended textbooks and courses</a></li>
<li class="chapter" data-level="12.2" data-path="recommended-reading.html"><a href="recommended-reading.html#datasources"><i class="fa fa-check"></i><b>12.2</b> Datasources</a></li>
<li class="chapter" data-level="12.3" data-path="recommended-reading.html"><a href="recommended-reading.html#useful-packages"><i class="fa fa-check"></i><b>12.3</b> Useful packages</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Epidemiology in R: A Hands-on Approach</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="introduction-to-the-tidyverse" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Chapter 5</span> Introduction to the Tidyverse<a href="introduction-to-the-tidyverse.html#introduction-to-the-tidyverse" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>The <strong>tidyverse</strong> is a collection of R packages designed for data science that share an underlying design philosophy, grammar, and data structures. These packages are essential tools for anyone working with data in R, providing intuitive and consistent functions for data cleaning, manipulation, and visualization.</p>
<p>The tidyverse follows Hadley Wickham’s philosophy of <strong>tidy data</strong>, where:</p>
<ul>
<li>Each variable is a column</li>
<li>Each observation is a row<br />
</li>
<li>Each value is a cell</li>
</ul>
<p>This structure makes data analysis more intuitive and efficient.</p>
<div class="sourceCode" id="cb67"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb67-1"><a href="introduction-to-the-tidyverse.html#cb67-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  <span class="co"># Loads core tidyverse packages</span></span></code></pre></div>
<pre><code>## ── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
## ✔ dplyr     1.1.4     ✔ readr     2.1.5
## ✔ forcats   1.0.0     ✔ stringr   1.5.1
## ✔ ggplot2   3.5.1     ✔ tibble    3.2.1
## ✔ lubridate 1.9.3     ✔ tidyr     1.3.1
## ✔ purrr     1.0.2     
## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
## ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="introduction-to-the-tidyverse.html#cb69-1" tabindex="-1"></a><span class="fu">library</span>(gapminder)  <span class="co"># Example dataset</span></span></code></pre></div>
<div id="data-structure-wide-vs.-tidy-data" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Data Structure: Wide vs. Tidy Data<a href="introduction-to-the-tidyverse.html#data-structure-wide-vs.-tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="understanding-the-difference" class="section level3 hasAnchor" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Understanding the Difference<a href="introduction-to-the-tidyverse.html#understanding-the-difference" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Let’s explore the concept of tidy data with a practical example:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="introduction-to-the-tidyverse.html#cb70-1" tabindex="-1"></a><span class="co"># Create a wide-format dataset</span></span>
<span id="cb70-2"><a href="introduction-to-the-tidyverse.html#cb70-2" tabindex="-1"></a>flu_cases <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb70-3"><a href="introduction-to-the-tidyverse.html#cb70-3" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">c</span>(<span class="dv">2020</span>, <span class="dv">2021</span>),</span>
<span id="cb70-4"><a href="introduction-to-the-tidyverse.html#cb70-4" tabindex="-1"></a>  <span class="at">male_cases =</span> <span class="fu">c</span>(<span class="dv">120</span>, <span class="dv">150</span>),</span>
<span id="cb70-5"><a href="introduction-to-the-tidyverse.html#cb70-5" tabindex="-1"></a>  <span class="at">female_cases =</span> <span class="fu">c</span>(<span class="dv">100</span>, <span class="dv">130</span>)</span>
<span id="cb70-6"><a href="introduction-to-the-tidyverse.html#cb70-6" tabindex="-1"></a>)</span>
<span id="cb70-7"><a href="introduction-to-the-tidyverse.html#cb70-7" tabindex="-1"></a></span>
<span id="cb70-8"><a href="introduction-to-the-tidyverse.html#cb70-8" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Wide format (not tidy):&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Wide format (not tidy):&quot;</code></pre>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="introduction-to-the-tidyverse.html#cb72-1" tabindex="-1"></a>flu_cases</span></code></pre></div>
<pre><code>##   year male_cases female_cases
## 1 2020        120          100
## 2 2021        150          130</code></pre>
<p><strong>Why isn’t this tidy?</strong> The variable “sex” is encoded in the column names rather than being a proper column with values.</p>
</div>
<div id="reshaping-data-with-tidyr" class="section level3 hasAnchor" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Reshaping Data with tidyr<a href="introduction-to-the-tidyverse.html#reshaping-data-with-tidyr" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="making-data-longer-with-pivot_longer" class="section level4 hasAnchor" number="5.1.2.1">
<h4><span class="header-section-number">5.1.2.1</span> Making Data Longer with <code>pivot_longer()</code><a href="introduction-to-the-tidyverse.html#making-data-longer-with-pivot_longer" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="introduction-to-the-tidyverse.html#cb74-1" tabindex="-1"></a>flu_tidy <span class="ot">&lt;-</span> flu_cases <span class="sc">%&gt;%</span></span>
<span id="cb74-2"><a href="introduction-to-the-tidyverse.html#cb74-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb74-3"><a href="introduction-to-the-tidyverse.html#cb74-3" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(male_cases, female_cases),     <span class="co"># Columns to pivot</span></span>
<span id="cb74-4"><a href="introduction-to-the-tidyverse.html#cb74-4" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">&quot;sex&quot;</span>,                       <span class="co"># New column for variable names</span></span>
<span id="cb74-5"><a href="introduction-to-the-tidyverse.html#cb74-5" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">&quot;cases&quot;</span>                     <span class="co"># New column for values</span></span>
<span id="cb74-6"><a href="introduction-to-the-tidyverse.html#cb74-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb74-7"><a href="introduction-to-the-tidyverse.html#cb74-7" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">sex =</span> <span class="fu">str_replace</span>(sex, <span class="st">&quot;_cases&quot;</span>, <span class="st">&quot;&quot;</span>))  <span class="co"># Clean up the sex values</span></span>
<span id="cb74-8"><a href="introduction-to-the-tidyverse.html#cb74-8" tabindex="-1"></a></span>
<span id="cb74-9"><a href="introduction-to-the-tidyverse.html#cb74-9" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Tidy format (long):&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Tidy format (long):&quot;</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="introduction-to-the-tidyverse.html#cb76-1" tabindex="-1"></a>flu_tidy</span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
##    year sex    cases
##   &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;
## 1  2020 male     120
## 2  2020 female   100
## 3  2021 male     150
## 4  2021 female   130</code></pre>
</div>
<div id="making-data-wider-with-pivot_wider" class="section level4 hasAnchor" number="5.1.2.2">
<h4><span class="header-section-number">5.1.2.2</span> Making Data Wider with <code>pivot_wider()</code><a href="introduction-to-the-tidyverse.html#making-data-wider-with-pivot_wider" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="introduction-to-the-tidyverse.html#cb78-1" tabindex="-1"></a>flu_wide_again <span class="ot">&lt;-</span> flu_tidy <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a href="introduction-to-the-tidyverse.html#cb78-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(</span>
<span id="cb78-3"><a href="introduction-to-the-tidyverse.html#cb78-3" tabindex="-1"></a>    <span class="at">names_from =</span> sex,           <span class="co"># Column to get new column names from</span></span>
<span id="cb78-4"><a href="introduction-to-the-tidyverse.html#cb78-4" tabindex="-1"></a>    <span class="at">values_from =</span> cases,        <span class="co"># Column to get values from</span></span>
<span id="cb78-5"><a href="introduction-to-the-tidyverse.html#cb78-5" tabindex="-1"></a>    <span class="at">names_glue =</span> <span class="st">&quot;{sex}_cases&quot;</span>  <span class="co"># Template for new column names</span></span>
<span id="cb78-6"><a href="introduction-to-the-tidyverse.html#cb78-6" tabindex="-1"></a>  )</span>
<span id="cb78-7"><a href="introduction-to-the-tidyverse.html#cb78-7" tabindex="-1"></a></span>
<span id="cb78-8"><a href="introduction-to-the-tidyverse.html#cb78-8" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Back to wide format:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Back to wide format:&quot;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="introduction-to-the-tidyverse.html#cb80-1" tabindex="-1"></a>flu_wide_again</span></code></pre></div>
<pre><code>## # A tibble: 2 × 3
##    year male_cases female_cases
##   &lt;dbl&gt;      &lt;dbl&gt;        &lt;dbl&gt;
## 1  2020        120          100
## 2  2021        150          130</code></pre>
</div>
</div>
</div>
<div id="core-dplyr-functions-for-data-manipulation" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Core dplyr Functions for Data Manipulation<a href="introduction-to-the-tidyverse.html#core-dplyr-functions-for-data-manipulation" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let’s explore the essential dplyr functions using the gapminder dataset. The Gapminder dataset is a widely used dataset in data science, statistics, and economics that provides a comprehensive view of global development over time. It contains information on countries’ life expectancy, GDP per capita, population, and other socio-economic indicators, often spanning several decades. The dataset is particularly popular for teaching and visualization because it allows users to explore trends across countries, continents, and time. For example, you can track how life expectancy has improved in different regions, how income inequality has changed, or how population growth interacts with economic development. Gapminder is also well known through the Gapminder Foundation and the animated bubble charts popularized by Hans Rosling, which make complex global trends intuitive and engaging.</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="introduction-to-the-tidyverse.html#cb82-1" tabindex="-1"></a><span class="fu">head</span>(gapminder, <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 6
##    country     continent  year lifeExp      pop gdpPercap
##    &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
##  1 Afghanistan Asia       1952    28.8  8425333      779.
##  2 Afghanistan Asia       1957    30.3  9240934      821.
##  3 Afghanistan Asia       1962    32.0 10267083      853.
##  4 Afghanistan Asia       1967    34.0 11537966      836.
##  5 Afghanistan Asia       1972    36.1 13079460      740.
##  6 Afghanistan Asia       1977    38.4 14880372      786.
##  7 Afghanistan Asia       1982    39.9 12881816      978.
##  8 Afghanistan Asia       1987    40.8 13867957      852.
##  9 Afghanistan Asia       1992    41.7 16317921      649.
## 10 Afghanistan Asia       1997    41.8 22227415      635.</code></pre>
<div id="the-pipe-operator" class="section level3 hasAnchor" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> The Pipe Operator (<code>%&gt;%</code>)<a href="introduction-to-the-tidyverse.html#the-pipe-operator" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>The pipe operator is the backbone of tidyverse workflows. It passes the result of one function as the first argument to the next function:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="introduction-to-the-tidyverse.html#cb84-1" tabindex="-1"></a><span class="co"># Instead of: function_c(function_b(function_a(data), arg1), arg2)</span></span>
<span id="cb84-2"><a href="introduction-to-the-tidyverse.html#cb84-2" tabindex="-1"></a><span class="co"># We write: data %&gt;% function_a() %&gt;% function_b(arg1) %&gt;% function_c(arg2)</span></span></code></pre></div>
</div>
<div id="select-choose-columns" class="section level3 hasAnchor" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> <code>select()</code>: Choose Columns<a href="introduction-to-the-tidyverse.html#select-choose-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="introduction-to-the-tidyverse.html#cb85-1" tabindex="-1"></a><span class="co"># Select specific columns</span></span>
<span id="cb85-2"><a href="introduction-to-the-tidyverse.html#cb85-2" tabindex="-1"></a>selected_columns <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb85-3"><a href="introduction-to-the-tidyverse.html#cb85-3" tabindex="-1"></a>  <span class="fu">select</span>(country, year, lifeExp, pop)</span>
<span id="cb85-4"><a href="introduction-to-the-tidyverse.html#cb85-4" tabindex="-1"></a></span>
<span id="cb85-5"><a href="introduction-to-the-tidyverse.html#cb85-5" tabindex="-1"></a><span class="fu">head</span>(selected_columns)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
##   country      year lifeExp      pop
##   &lt;fct&gt;       &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;
## 1 Afghanistan  1952    28.8  8425333
## 2 Afghanistan  1957    30.3  9240934
## 3 Afghanistan  1962    32.0 10267083
## 4 Afghanistan  1967    34.0 11537966
## 5 Afghanistan  1972    36.1 13079460
## 6 Afghanistan  1977    38.4 14880372</code></pre>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="introduction-to-the-tidyverse.html#cb87-1" tabindex="-1"></a><span class="co"># Select columns by pattern</span></span>
<span id="cb87-2"><a href="introduction-to-the-tidyverse.html#cb87-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb87-3"><a href="introduction-to-the-tidyverse.html#cb87-3" tabindex="-1"></a>  <span class="fu">select</span>(country, <span class="fu">starts_with</span>(<span class="st">&quot;life&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb87-4"><a href="introduction-to-the-tidyverse.html#cb87-4" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 2
##   country     lifeExp
##   &lt;fct&gt;         &lt;dbl&gt;
## 1 Afghanistan    28.8
## 2 Afghanistan    30.3
## 3 Afghanistan    32.0
## 4 Afghanistan    34.0
## 5 Afghanistan    36.1
## 6 Afghanistan    38.4</code></pre>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="introduction-to-the-tidyverse.html#cb89-1" tabindex="-1"></a><span class="co"># Select everything except certain columns</span></span>
<span id="cb89-2"><a href="introduction-to-the-tidyverse.html#cb89-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb89-3"><a href="introduction-to-the-tidyverse.html#cb89-3" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>continent, <span class="sc">-</span>gdpPercap) <span class="sc">%&gt;%</span> </span>
<span id="cb89-4"><a href="introduction-to-the-tidyverse.html#cb89-4" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
##   country      year lifeExp      pop
##   &lt;fct&gt;       &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;
## 1 Afghanistan  1952    28.8  8425333
## 2 Afghanistan  1957    30.3  9240934
## 3 Afghanistan  1962    32.0 10267083
## 4 Afghanistan  1967    34.0 11537966
## 5 Afghanistan  1972    36.1 13079460
## 6 Afghanistan  1977    38.4 14880372</code></pre>
</div>
<div id="filter-choose-rows" class="section level3 hasAnchor" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> <code>filter()</code>: Choose Rows<a href="introduction-to-the-tidyverse.html#filter-choose-rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="introduction-to-the-tidyverse.html#cb91-1" tabindex="-1"></a><span class="co"># Filter by exact match</span></span>
<span id="cb91-2"><a href="introduction-to-the-tidyverse.html#cb91-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb91-3"><a href="introduction-to-the-tidyverse.html#cb91-3" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb91-4"><a href="introduction-to-the-tidyverse.html#cb91-4" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   country     continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Afghanistan Asia       2007    43.8 31889923      975.
## 2 Albania     Europe     2007    76.4  3600523     5937.
## 3 Algeria     Africa     2007    72.3 33333216     6223.
## 4 Angola      Africa     2007    42.7 12420476     4797.
## 5 Argentina   Americas   2007    75.3 40301927    12779.
## 6 Australia   Oceania    2007    81.2 20434176    34435.</code></pre>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="introduction-to-the-tidyverse.html#cb93-1" tabindex="-1"></a><span class="co"># Filter by multiple conditions</span></span>
<span id="cb93-2"><a href="introduction-to-the-tidyverse.html#cb93-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb93-3"><a href="introduction-to-the-tidyverse.html#cb93-3" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>, continent <span class="sc">==</span> <span class="st">&quot;Europe&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb93-4"><a href="introduction-to-the-tidyverse.html#cb93-4" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   country                continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;                  &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Albania                Europe     2007    76.4  3600523     5937.
## 2 Austria                Europe     2007    79.8  8199783    36126.
## 3 Belgium                Europe     2007    79.4 10392226    33693.
## 4 Bosnia and Herzegovina Europe     2007    74.9  4552198     7446.
## 5 Bulgaria               Europe     2007    73.0  7322858    10681.
## 6 Croatia                Europe     2007    75.7  4493312    14619.</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="introduction-to-the-tidyverse.html#cb95-1" tabindex="-1"></a><span class="co"># Filter using %in% operator</span></span>
<span id="cb95-2"><a href="introduction-to-the-tidyverse.html#cb95-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb95-3"><a href="introduction-to-the-tidyverse.html#cb95-3" tabindex="-1"></a>  <span class="fu">filter</span>(continent <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&#39;Oceania&#39;</span>, <span class="st">&#39;Africa&#39;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb95-4"><a href="introduction-to-the-tidyverse.html#cb95-4" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   country continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Algeria Africa     1952    43.1  9279525     2449.
## 2 Algeria Africa     1957    45.7 10270856     3014.
## 3 Algeria Africa     1962    48.3 11000948     2551.
## 4 Algeria Africa     1967    51.4 12760499     3247.
## 5 Algeria Africa     1972    54.5 14760787     4183.
## 6 Algeria Africa     1977    58.0 17152804     4910.</code></pre>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="introduction-to-the-tidyverse.html#cb97-1" tabindex="-1"></a><span class="co"># Filter by numeric conditions</span></span>
<span id="cb97-2"><a href="introduction-to-the-tidyverse.html#cb97-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb97-3"><a href="introduction-to-the-tidyverse.html#cb97-3" tabindex="-1"></a>  <span class="fu">filter</span>(pop <span class="sc">&gt;</span> <span class="dv">100000000</span>, lifeExp <span class="sc">&gt;</span> <span class="dv">70</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb97-4"><a href="introduction-to-the-tidyverse.html#cb97-4" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   country   continent  year lifeExp        pop gdpPercap
##   &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;      &lt;int&gt;     &lt;dbl&gt;
## 1 Brazil    Americas   2002    71.0  179914212     8131.
## 2 Brazil    Americas   2007    72.4  190010647     9066.
## 3 China     Asia       1997    70.4 1230075000     2289.
## 4 China     Asia       2002    72.0 1280400000     3119.
## 5 China     Asia       2007    73.0 1318683096     4959.
## 6 Indonesia Asia       2007    70.6  223547000     3541.</code></pre>
</div>
<div id="mutate-create-or-modify-columns" class="section level3 hasAnchor" number="5.2.4">
<h3><span class="header-section-number">5.2.4</span> <code>mutate()</code>: Create or Modify Columns<a href="introduction-to-the-tidyverse.html#mutate-create-or-modify-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="introduction-to-the-tidyverse.html#cb99-1" tabindex="-1"></a><span class="co"># Create new columns</span></span>
<span id="cb99-2"><a href="introduction-to-the-tidyverse.html#cb99-2" tabindex="-1"></a>gapminder_enhanced <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb99-3"><a href="introduction-to-the-tidyverse.html#cb99-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb99-4"><a href="introduction-to-the-tidyverse.html#cb99-4" tabindex="-1"></a>    <span class="at">pop_millions =</span> pop <span class="sc">/</span> <span class="dv">1000000</span>,</span>
<span id="cb99-5"><a href="introduction-to-the-tidyverse.html#cb99-5" tabindex="-1"></a>    <span class="at">gdp_total =</span> pop <span class="sc">*</span> gdpPercap,</span>
<span id="cb99-6"><a href="introduction-to-the-tidyverse.html#cb99-6" tabindex="-1"></a>    <span class="at">pop_log =</span> <span class="fu">log10</span>(pop)</span>
<span id="cb99-7"><a href="introduction-to-the-tidyverse.html#cb99-7" tabindex="-1"></a>  )</span>
<span id="cb99-8"><a href="introduction-to-the-tidyverse.html#cb99-8" tabindex="-1"></a></span>
<span id="cb99-9"><a href="introduction-to-the-tidyverse.html#cb99-9" tabindex="-1"></a><span class="fu">head</span>(gapminder_enhanced)</span></code></pre></div>
<pre><code>## # A tibble: 6 × 9
##   country     continent  year lifeExp      pop gdpPercap pop_millions  gdp_total
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;        &lt;dbl&gt;      &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.         8.43    6.57e 9
## 2 Afghanistan Asia       1957    30.3  9240934      821.         9.24    7.59e 9
## 3 Afghanistan Asia       1962    32.0 10267083      853.        10.3     8.76e 9
## 4 Afghanistan Asia       1967    34.0 11537966      836.        11.5     9.65e 9
## 5 Afghanistan Asia       1972    36.1 13079460      740.        13.1     9.68e 9
## 6 Afghanistan Asia       1977    38.4 14880372      786.        14.9     1.17e10
## # ℹ 1 more variable: pop_log &lt;dbl&gt;</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="introduction-to-the-tidyverse.html#cb101-1" tabindex="-1"></a><span class="co"># Conditional mutations with ifelse</span></span>
<span id="cb101-2"><a href="introduction-to-the-tidyverse.html#cb101-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb101-3"><a href="introduction-to-the-tidyverse.html#cb101-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb101-4"><a href="introduction-to-the-tidyverse.html#cb101-4" tabindex="-1"></a>    <span class="at">pop_category =</span> <span class="fu">ifelse</span>(pop <span class="sc">&gt;</span> <span class="dv">50000000</span>, <span class="st">&quot;Large&quot;</span>, <span class="st">&quot;Small&quot;</span>)</span>
<span id="cb101-5"><a href="introduction-to-the-tidyverse.html#cb101-5" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb101-6"><a href="introduction-to-the-tidyverse.html#cb101-6" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 7
##   country     continent  year lifeExp      pop gdpPercap pop_category
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;       
## 1 Afghanistan Asia       1952    28.8  8425333      779. Small       
## 2 Afghanistan Asia       1957    30.3  9240934      821. Small       
## 3 Afghanistan Asia       1962    32.0 10267083      853. Small       
## 4 Afghanistan Asia       1967    34.0 11537966      836. Small       
## 5 Afghanistan Asia       1972    36.1 13079460      740. Small       
## 6 Afghanistan Asia       1977    38.4 14880372      786. Small</code></pre>
</div>
<div id="transmute-create-new-columns-drop-others" class="section level3 hasAnchor" number="5.2.5">
<h3><span class="header-section-number">5.2.5</span> <code>transmute()</code>: Create New Columns (Drop Others)<a href="introduction-to-the-tidyverse.html#transmute-create-new-columns-drop-others" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="introduction-to-the-tidyverse.html#cb103-1" tabindex="-1"></a><span class="co"># Keep only the newly created columns</span></span>
<span id="cb103-2"><a href="introduction-to-the-tidyverse.html#cb103-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb103-3"><a href="introduction-to-the-tidyverse.html#cb103-3" tabindex="-1"></a>  <span class="fu">transmute</span>(</span>
<span id="cb103-4"><a href="introduction-to-the-tidyverse.html#cb103-4" tabindex="-1"></a>    <span class="at">country =</span> country,</span>
<span id="cb103-5"><a href="introduction-to-the-tidyverse.html#cb103-5" tabindex="-1"></a>    <span class="at">year =</span> year,</span>
<span id="cb103-6"><a href="introduction-to-the-tidyverse.html#cb103-6" tabindex="-1"></a>    <span class="at">gdp_total =</span> pop <span class="sc">*</span> gdpPercap,</span>
<span id="cb103-7"><a href="introduction-to-the-tidyverse.html#cb103-7" tabindex="-1"></a>    <span class="at">pop_millions =</span> pop <span class="sc">/</span> <span class="dv">1000000</span></span>
<span id="cb103-8"><a href="introduction-to-the-tidyverse.html#cb103-8" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb103-9"><a href="introduction-to-the-tidyverse.html#cb103-9" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 4
##   country      year    gdp_total pop_millions
##   &lt;fct&gt;       &lt;int&gt;        &lt;dbl&gt;        &lt;dbl&gt;
## 1 Afghanistan  1952  6567086330.         8.43
## 2 Afghanistan  1957  7585448670.         9.24
## 3 Afghanistan  1962  8758855797.        10.3 
## 4 Afghanistan  1967  9648014150.        11.5 
## 5 Afghanistan  1972  9678553274.        13.1 
## 6 Afghanistan  1977 11697659231.        14.9</code></pre>
</div>
<div id="arrange-sort-rows" class="section level3 hasAnchor" number="5.2.6">
<h3><span class="header-section-number">5.2.6</span> <code>arrange()</code>: Sort Rows<a href="introduction-to-the-tidyverse.html#arrange-sort-rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="introduction-to-the-tidyverse.html#cb105-1" tabindex="-1"></a><span class="co"># Sort by one column (ascending)</span></span>
<span id="cb105-2"><a href="introduction-to-the-tidyverse.html#cb105-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb105-3"><a href="introduction-to-the-tidyverse.html#cb105-3" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span></span>
<span id="cb105-4"><a href="introduction-to-the-tidyverse.html#cb105-4" tabindex="-1"></a>  <span class="fu">arrange</span>(lifeExp) <span class="sc">%&gt;%</span></span>
<span id="cb105-5"><a href="introduction-to-the-tidyverse.html#cb105-5" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   country      continent  year lifeExp      pop gdpPercap
##   &lt;fct&gt;        &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Swaziland    Africa     2007    39.6  1133066     4513.
## 2 Mozambique   Africa     2007    42.1 19951656      824.
## 3 Zambia       Africa     2007    42.4 11746035     1271.
## 4 Sierra Leone Africa     2007    42.6  6144562      863.
## 5 Lesotho      Africa     2007    42.6  2012649     1569.
## 6 Angola       Africa     2007    42.7 12420476     4797.</code></pre>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="introduction-to-the-tidyverse.html#cb107-1" tabindex="-1"></a><span class="co"># Sort by multiple columns (descending)</span></span>
<span id="cb107-2"><a href="introduction-to-the-tidyverse.html#cb107-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb107-3"><a href="introduction-to-the-tidyverse.html#cb107-3" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span></span>
<span id="cb107-4"><a href="introduction-to-the-tidyverse.html#cb107-4" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gdpPercap), <span class="fu">desc</span>(lifeExp)) <span class="sc">%&gt;%</span></span>
<span id="cb107-5"><a href="introduction-to-the-tidyverse.html#cb107-5" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   country          continent  year lifeExp       pop gdpPercap
##   &lt;fct&gt;            &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
## 1 Norway           Europe     2007    80.2   4627926    49357.
## 2 Kuwait           Asia       2007    77.6   2505559    47307.
## 3 Singapore        Asia       2007    80.0   4553009    47143.
## 4 United States    Americas   2007    78.2 301139947    42952.
## 5 Ireland          Europe     2007    78.9   4109086    40676.
## 6 Hong Kong, China Asia       2007    82.2   6980412    39725.</code></pre>
</div>
<div id="group_by-and-summarise-group-operations" class="section level3 hasAnchor" number="5.2.7">
<h3><span class="header-section-number">5.2.7</span> <code>group_by()</code> and <code>summarise()</code>: Group Operations<a href="introduction-to-the-tidyverse.html#group_by-and-summarise-group-operations" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb109"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb109-1"><a href="introduction-to-the-tidyverse.html#cb109-1" tabindex="-1"></a><span class="co"># Basic grouping and summarizing</span></span>
<span id="cb109-2"><a href="introduction-to-the-tidyverse.html#cb109-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb109-3"><a href="introduction-to-the-tidyverse.html#cb109-3" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span></span>
<span id="cb109-4"><a href="introduction-to-the-tidyverse.html#cb109-4" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb109-5"><a href="introduction-to-the-tidyverse.html#cb109-5" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb109-6"><a href="introduction-to-the-tidyverse.html#cb109-6" tabindex="-1"></a>    <span class="at">mean_lifeExp =</span> <span class="fu">mean</span>(lifeExp),</span>
<span id="cb109-7"><a href="introduction-to-the-tidyverse.html#cb109-7" tabindex="-1"></a>    <span class="at">sd_lifeExp =</span> <span class="fu">sd</span>(lifeExp),</span>
<span id="cb109-8"><a href="introduction-to-the-tidyverse.html#cb109-8" tabindex="-1"></a>    <span class="at">total_pop =</span> <span class="fu">sum</span>(pop),</span>
<span id="cb109-9"><a href="introduction-to-the-tidyverse.html#cb109-9" tabindex="-1"></a>    <span class="at">n_countries =</span> <span class="fu">n</span>(),</span>
<span id="cb109-10"><a href="introduction-to-the-tidyverse.html#cb109-10" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span>  <span class="co"># Automatically ungroup</span></span>
<span id="cb109-11"><a href="introduction-to-the-tidyverse.html#cb109-11" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 5 × 5
##   continent mean_lifeExp sd_lifeExp  total_pop n_countries
##   &lt;fct&gt;            &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;       &lt;int&gt;
## 1 Africa            54.8      9.63   929539692          52
## 2 Americas          73.6      4.44   898871184          25
## 3 Asia              70.7      7.96  3811953827          33
## 4 Europe            77.6      2.98   586098529          30
## 5 Oceania           80.7      0.729   24549947           2</code></pre>
<div class="sourceCode" id="cb111"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb111-1"><a href="introduction-to-the-tidyverse.html#cb111-1" tabindex="-1"></a><span class="co"># Multiple grouping variables</span></span>
<span id="cb111-2"><a href="introduction-to-the-tidyverse.html#cb111-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb111-3"><a href="introduction-to-the-tidyverse.html#cb111-3" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">%in%</span> <span class="fu">c</span>(<span class="dv">1997</span>, <span class="dv">2007</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb111-4"><a href="introduction-to-the-tidyverse.html#cb111-4" tabindex="-1"></a>  <span class="fu">group_by</span>(continent, year) <span class="sc">%&gt;%</span></span>
<span id="cb111-5"><a href="introduction-to-the-tidyverse.html#cb111-5" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb111-6"><a href="introduction-to-the-tidyverse.html#cb111-6" tabindex="-1"></a>    <span class="at">avg_gdp =</span> <span class="fu">mean</span>(gdpPercap),</span>
<span id="cb111-7"><a href="introduction-to-the-tidyverse.html#cb111-7" tabindex="-1"></a>    <span class="at">countries =</span> <span class="fu">n</span>(),</span>
<span id="cb111-8"><a href="introduction-to-the-tidyverse.html#cb111-8" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb111-9"><a href="introduction-to-the-tidyverse.html#cb111-9" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 10 × 4
##    continent  year avg_gdp countries
##    &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;
##  1 Africa     1997   2379.        52
##  2 Africa     2007   3089.        52
##  3 Americas   1997   8889.        25
##  4 Americas   2007  11003.        25
##  5 Asia       1997   9834.        33
##  6 Asia       2007  12473.        33
##  7 Europe     1997  19077.        30
##  8 Europe     2007  25054.        30
##  9 Oceania    1997  24024.         2
## 10 Oceania    2007  29810.         2</code></pre>
</div>
</div>
<div id="additional-essential-functions" class="section level2 hasAnchor" number="5.3">
<h2><span class="header-section-number">5.3</span> Additional Essential Functions<a href="introduction-to-the-tidyverse.html#additional-essential-functions" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="rename-change-column-names" class="section level3 hasAnchor" number="5.3.1">
<h3><span class="header-section-number">5.3.1</span> <code>rename()</code>: Change Column Names<a href="introduction-to-the-tidyverse.html#rename-change-column-names" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb113"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb113-1"><a href="introduction-to-the-tidyverse.html#cb113-1" tabindex="-1"></a><span class="co"># Rename columns</span></span>
<span id="cb113-2"><a href="introduction-to-the-tidyverse.html#cb113-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb113-3"><a href="introduction-to-the-tidyverse.html#cb113-3" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb113-4"><a href="introduction-to-the-tidyverse.html#cb113-4" tabindex="-1"></a>    <span class="at">life_expectancy =</span> lifeExp,</span>
<span id="cb113-5"><a href="introduction-to-the-tidyverse.html#cb113-5" tabindex="-1"></a>    <span class="at">gdp_per_capita =</span> gdpPercap,</span>
<span id="cb113-6"><a href="introduction-to-the-tidyverse.html#cb113-6" tabindex="-1"></a>    <span class="at">population =</span> pop</span>
<span id="cb113-7"><a href="introduction-to-the-tidyverse.html#cb113-7" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb113-8"><a href="introduction-to-the-tidyverse.html#cb113-8" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   country     continent  year life_expectancy population gdp_per_capita
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;           &lt;dbl&gt;      &lt;int&gt;          &lt;dbl&gt;
## 1 Afghanistan Asia       1952            28.8    8425333           779.
## 2 Afghanistan Asia       1957            30.3    9240934           821.
## 3 Afghanistan Asia       1962            32.0   10267083           853.
## 4 Afghanistan Asia       1967            34.0   11537966           836.
## 5 Afghanistan Asia       1972            36.1   13079460           740.
## 6 Afghanistan Asia       1977            38.4   14880372           786.</code></pre>
<div class="sourceCode" id="cb115"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb115-1"><a href="introduction-to-the-tidyverse.html#cb115-1" tabindex="-1"></a><span class="co"># Rename with a function</span></span>
<span id="cb115-2"><a href="introduction-to-the-tidyverse.html#cb115-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb115-3"><a href="introduction-to-the-tidyverse.html#cb115-3" tabindex="-1"></a>  <span class="fu">rename_with</span>(toupper, <span class="fu">c</span>(country, continent)) <span class="sc">%&gt;%</span></span>
<span id="cb115-4"><a href="introduction-to-the-tidyverse.html#cb115-4" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 6
##   COUNTRY     CONTINENT  year lifeExp      pop gdpPercap
##   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
## 1 Afghanistan Asia       1952    28.8  8425333      779.
## 2 Afghanistan Asia       1957    30.3  9240934      821.
## 3 Afghanistan Asia       1962    32.0 10267083      853.
## 4 Afghanistan Asia       1967    34.0 11537966      836.
## 5 Afghanistan Asia       1972    36.1 13079460      740.
## 6 Afghanistan Asia       1977    38.4 14880372      786.</code></pre>
</div>
<div id="data-type-conversions" class="section level3 hasAnchor" number="5.3.2">
<h3><span class="header-section-number">5.3.2</span> Data Type Conversions<a href="introduction-to-the-tidyverse.html#data-type-conversions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="introduction-to-the-tidyverse.html#cb117-1" tabindex="-1"></a><span class="co"># Create sample data with mixed types</span></span>
<span id="cb117-2"><a href="introduction-to-the-tidyverse.html#cb117-2" tabindex="-1"></a>sample_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb117-3"><a href="introduction-to-the-tidyverse.html#cb117-3" tabindex="-1"></a>  <span class="at">id =</span> <span class="fu">c</span>(<span class="st">&quot;1&quot;</span>, <span class="st">&quot;2&quot;</span>, <span class="st">&quot;3&quot;</span>),</span>
<span id="cb117-4"><a href="introduction-to-the-tidyverse.html#cb117-4" tabindex="-1"></a>  <span class="at">date_string =</span> <span class="fu">c</span>(<span class="st">&quot;2020-01-01&quot;</span>, <span class="st">&quot;2020-02-01&quot;</span>, <span class="st">&quot;2020-03-01&quot;</span>),</span>
<span id="cb117-5"><a href="introduction-to-the-tidyverse.html#cb117-5" tabindex="-1"></a>  <span class="at">value =</span> <span class="fu">c</span>(<span class="st">&quot;10.5&quot;</span>, <span class="st">&quot;20.3&quot;</span>, <span class="st">&quot;15.7&quot;</span>),</span>
<span id="cb117-6"><a href="introduction-to-the-tidyverse.html#cb117-6" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span></span>
<span id="cb117-7"><a href="introduction-to-the-tidyverse.html#cb117-7" tabindex="-1"></a>)</span>
<span id="cb117-8"><a href="introduction-to-the-tidyverse.html#cb117-8" tabindex="-1"></a></span>
<span id="cb117-9"><a href="introduction-to-the-tidyverse.html#cb117-9" tabindex="-1"></a><span class="co"># Convert data types</span></span>
<span id="cb117-10"><a href="introduction-to-the-tidyverse.html#cb117-10" tabindex="-1"></a>sample_data_converted <span class="ot">&lt;-</span> sample_data <span class="sc">%&gt;%</span></span>
<span id="cb117-11"><a href="introduction-to-the-tidyverse.html#cb117-11" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb117-12"><a href="introduction-to-the-tidyverse.html#cb117-12" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">as.numeric</span>(id),</span>
<span id="cb117-13"><a href="introduction-to-the-tidyverse.html#cb117-13" tabindex="-1"></a>    <span class="at">date_string =</span> <span class="fu">as.Date</span>(date_string),</span>
<span id="cb117-14"><a href="introduction-to-the-tidyverse.html#cb117-14" tabindex="-1"></a>    <span class="at">value =</span> <span class="fu">as.numeric</span>(value),</span>
<span id="cb117-15"><a href="introduction-to-the-tidyverse.html#cb117-15" tabindex="-1"></a>    <span class="at">id_char =</span> <span class="fu">as.character</span>(id)</span>
<span id="cb117-16"><a href="introduction-to-the-tidyverse.html#cb117-16" tabindex="-1"></a>  )</span>
<span id="cb117-17"><a href="introduction-to-the-tidyverse.html#cb117-17" tabindex="-1"></a></span>
<span id="cb117-18"><a href="introduction-to-the-tidyverse.html#cb117-18" tabindex="-1"></a><span class="fu">str</span>(sample_data_converted)</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  4 variables:
##  $ id         : num  1 2 3
##  $ date_string: Date, format: &quot;2020-01-01&quot; &quot;2020-02-01&quot; ...
##  $ value      : num  10.5 20.3 15.7
##  $ id_char    : chr  &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
</div>
<div id="across-apply-functions-to-multiple-columns" class="section level3 hasAnchor" number="5.3.3">
<h3><span class="header-section-number">5.3.3</span> <code>across()</code>: Apply Functions to Multiple Columns<a href="introduction-to-the-tidyverse.html#across-apply-functions-to-multiple-columns" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="introduction-to-the-tidyverse.html#cb119-1" tabindex="-1"></a><span class="co"># Apply function to multiple columns</span></span>
<span id="cb119-2"><a href="introduction-to-the-tidyverse.html#cb119-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb119-3"><a href="introduction-to-the-tidyverse.html#cb119-3" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span></span>
<span id="cb119-4"><a href="introduction-to-the-tidyverse.html#cb119-4" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb119-5"><a href="introduction-to-the-tidyverse.html#cb119-5" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(lifeExp, pop, gdpPercap), mean),</span>
<span id="cb119-6"><a href="introduction-to-the-tidyverse.html#cb119-6" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb119-7"><a href="introduction-to-the-tidyverse.html#cb119-7" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 5 × 4
##   continent lifeExp       pop gdpPercap
##   &lt;fct&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
## 1 Africa       48.9  9916003.     2194.
## 2 Americas     64.7 24504795.     7136.
## 3 Asia         60.1 77038722.     7902.
## 4 Europe       71.9 17169765.    14469.
## 5 Oceania      74.3  8874672.    18622.</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="introduction-to-the-tidyverse.html#cb121-1" tabindex="-1"></a><span class="co"># Apply multiple functions</span></span>
<span id="cb121-2"><a href="introduction-to-the-tidyverse.html#cb121-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb121-3"><a href="introduction-to-the-tidyverse.html#cb121-3" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span></span>
<span id="cb121-4"><a href="introduction-to-the-tidyverse.html#cb121-4" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span></span>
<span id="cb121-5"><a href="introduction-to-the-tidyverse.html#cb121-5" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb121-6"><a href="introduction-to-the-tidyverse.html#cb121-6" tabindex="-1"></a>    <span class="fu">across</span>(<span class="fu">c</span>(lifeExp, gdpPercap), </span>
<span id="cb121-7"><a href="introduction-to-the-tidyverse.html#cb121-7" tabindex="-1"></a>           <span class="fu">list</span>(<span class="at">mean =</span> mean, <span class="at">sd =</span> sd, <span class="at">min =</span> min, <span class="at">max =</span> max)),</span>
<span id="cb121-8"><a href="introduction-to-the-tidyverse.html#cb121-8" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb121-9"><a href="introduction-to-the-tidyverse.html#cb121-9" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 5 × 9
##   continent lifeExp_mean lifeExp_sd lifeExp_min lifeExp_max gdpPercap_mean
##   &lt;fct&gt;            &lt;dbl&gt;      &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;          &lt;dbl&gt;
## 1 Africa            54.8      9.63         39.6        76.4          3089.
## 2 Americas          73.6      4.44         60.9        80.7         11003.
## 3 Asia              70.7      7.96         43.8        82.6         12473.
## 4 Europe            77.6      2.98         71.8        81.8         25054.
## 5 Oceania           80.7      0.729        80.2        81.2         29810.
## # ℹ 3 more variables: gdpPercap_sd &lt;dbl&gt;, gdpPercap_min &lt;dbl&gt;,
## #   gdpPercap_max &lt;dbl&gt;</code></pre>
</div>
<div id="recode-recode-values" class="section level3 hasAnchor" number="5.3.4">
<h3><span class="header-section-number">5.3.4</span> <code>recode()</code>: Recode Values<a href="introduction-to-the-tidyverse.html#recode-recode-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="introduction-to-the-tidyverse.html#cb123-1" tabindex="-1"></a><span class="co"># Recode values</span></span>
<span id="cb123-2"><a href="introduction-to-the-tidyverse.html#cb123-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb123-3"><a href="introduction-to-the-tidyverse.html#cb123-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb123-4"><a href="introduction-to-the-tidyverse.html#cb123-4" tabindex="-1"></a>    <span class="at">continent_short =</span> <span class="fu">recode</span>(continent,</span>
<span id="cb123-5"><a href="introduction-to-the-tidyverse.html#cb123-5" tabindex="-1"></a>      <span class="st">&quot;Africa&quot;</span> <span class="ot">=</span> <span class="st">&quot;AF&quot;</span>,</span>
<span id="cb123-6"><a href="introduction-to-the-tidyverse.html#cb123-6" tabindex="-1"></a>      <span class="st">&quot;Americas&quot;</span> <span class="ot">=</span> <span class="st">&quot;AM&quot;</span>, </span>
<span id="cb123-7"><a href="introduction-to-the-tidyverse.html#cb123-7" tabindex="-1"></a>      <span class="st">&quot;Asia&quot;</span> <span class="ot">=</span> <span class="st">&quot;AS&quot;</span>,</span>
<span id="cb123-8"><a href="introduction-to-the-tidyverse.html#cb123-8" tabindex="-1"></a>      <span class="st">&quot;Europe&quot;</span> <span class="ot">=</span> <span class="st">&quot;EU&quot;</span>,</span>
<span id="cb123-9"><a href="introduction-to-the-tidyverse.html#cb123-9" tabindex="-1"></a>      <span class="st">&quot;Oceania&quot;</span> <span class="ot">=</span> <span class="st">&quot;OC&quot;</span></span>
<span id="cb123-10"><a href="introduction-to-the-tidyverse.html#cb123-10" tabindex="-1"></a>    )</span>
<span id="cb123-11"><a href="introduction-to-the-tidyverse.html#cb123-11" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb123-12"><a href="introduction-to-the-tidyverse.html#cb123-12" tabindex="-1"></a>  <span class="fu">select</span>(country, continent, continent_short) <span class="sc">%&gt;%</span></span>
<span id="cb123-13"><a href="introduction-to-the-tidyverse.html#cb123-13" tabindex="-1"></a>  <span class="fu">head</span>()</span></code></pre></div>
<pre><code>## # A tibble: 6 × 3
##   country     continent continent_short
##   &lt;fct&gt;       &lt;fct&gt;     &lt;fct&gt;          
## 1 Afghanistan Asia      AS             
## 2 Afghanistan Asia      AS             
## 3 Afghanistan Asia      AS             
## 4 Afghanistan Asia      AS             
## 5 Afghanistan Asia      AS             
## 6 Afghanistan Asia      AS</code></pre>
</div>
<div id="case_when-multiple-conditional-logic" class="section level3 hasAnchor" number="5.3.5">
<h3><span class="header-section-number">5.3.5</span> <code>case_when()</code>: Multiple Conditional Logic<a href="introduction-to-the-tidyverse.html#case_when-multiple-conditional-logic" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="introduction-to-the-tidyverse.html#cb125-1" tabindex="-1"></a><span class="co"># Multiple conditions with case_when</span></span>
<span id="cb125-2"><a href="introduction-to-the-tidyverse.html#cb125-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb125-3"><a href="introduction-to-the-tidyverse.html#cb125-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb125-4"><a href="introduction-to-the-tidyverse.html#cb125-4" tabindex="-1"></a>    <span class="at">development_level =</span> <span class="fu">case_when</span>(</span>
<span id="cb125-5"><a href="introduction-to-the-tidyverse.html#cb125-5" tabindex="-1"></a>      gdpPercap <span class="sc">&lt;</span> <span class="dv">1000</span> <span class="sc">~</span> <span class="st">&quot;Low income&quot;</span>,</span>
<span id="cb125-6"><a href="introduction-to-the-tidyverse.html#cb125-6" tabindex="-1"></a>      gdpPercap <span class="sc">&lt;</span> <span class="dv">5000</span> <span class="sc">~</span> <span class="st">&quot;Lower middle income&quot;</span>, </span>
<span id="cb125-7"><a href="introduction-to-the-tidyverse.html#cb125-7" tabindex="-1"></a>      gdpPercap <span class="sc">&lt;</span> <span class="dv">15000</span> <span class="sc">~</span> <span class="st">&quot;Upper middle income&quot;</span>,</span>
<span id="cb125-8"><a href="introduction-to-the-tidyverse.html#cb125-8" tabindex="-1"></a>      gdpPercap <span class="sc">&gt;=</span> <span class="dv">15000</span> <span class="sc">~</span> <span class="st">&quot;High income&quot;</span>,</span>
<span id="cb125-9"><a href="introduction-to-the-tidyverse.html#cb125-9" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">&quot;Unknown&quot;</span>  <span class="co"># Default case</span></span>
<span id="cb125-10"><a href="introduction-to-the-tidyverse.html#cb125-10" tabindex="-1"></a>    ),</span>
<span id="cb125-11"><a href="introduction-to-the-tidyverse.html#cb125-11" tabindex="-1"></a>    <span class="at">pop_size =</span> <span class="fu">case_when</span>(</span>
<span id="cb125-12"><a href="introduction-to-the-tidyverse.html#cb125-12" tabindex="-1"></a>      pop <span class="sc">&lt;</span> <span class="dv">10000000</span> <span class="sc">~</span> <span class="st">&quot;Small&quot;</span>,</span>
<span id="cb125-13"><a href="introduction-to-the-tidyverse.html#cb125-13" tabindex="-1"></a>      pop <span class="sc">&lt;</span> <span class="dv">50000000</span> <span class="sc">~</span> <span class="st">&quot;Medium&quot;</span>,</span>
<span id="cb125-14"><a href="introduction-to-the-tidyverse.html#cb125-14" tabindex="-1"></a>      pop <span class="sc">&gt;=</span> <span class="dv">50000000</span> <span class="sc">~</span> <span class="st">&quot;Large&quot;</span></span>
<span id="cb125-15"><a href="introduction-to-the-tidyverse.html#cb125-15" tabindex="-1"></a>    )</span>
<span id="cb125-16"><a href="introduction-to-the-tidyverse.html#cb125-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb125-17"><a href="introduction-to-the-tidyverse.html#cb125-17" tabindex="-1"></a>  <span class="fu">select</span>(country, year, gdpPercap, development_level, pop, pop_size) <span class="sc">%&gt;%</span></span>
<span id="cb125-18"><a href="introduction-to-the-tidyverse.html#cb125-18" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span></span>
<span id="cb125-19"><a href="introduction-to-the-tidyverse.html#cb125-19" tabindex="-1"></a>  <span class="fu">head</span>(<span class="dv">10</span>)</span></code></pre></div>
<pre><code>## # A tibble: 10 × 6
##    country      year gdpPercap development_level         pop pop_size
##    &lt;fct&gt;       &lt;int&gt;     &lt;dbl&gt; &lt;chr&gt;                   &lt;int&gt; &lt;chr&gt;   
##  1 Afghanistan  2007      975. Low income           31889923 Medium  
##  2 Albania      2007     5937. Upper middle income   3600523 Small   
##  3 Algeria      2007     6223. Upper middle income  33333216 Medium  
##  4 Angola       2007     4797. Lower middle income  12420476 Medium  
##  5 Argentina    2007    12779. Upper middle income  40301927 Medium  
##  6 Australia    2007    34435. High income          20434176 Medium  
##  7 Austria      2007    36126. High income           8199783 Small   
##  8 Bahrain      2007    29796. High income            708573 Small   
##  9 Bangladesh   2007     1391. Lower middle income 150448339 Large   
## 10 Belgium      2007    33693. High income          10392226 Medium</code></pre>
</div>
<div id="replace_na-handle-missing-values" class="section level3 hasAnchor" number="5.3.6">
<h3><span class="header-section-number">5.3.6</span> <code>replace_na()</code>: Handle Missing Values<a href="introduction-to-the-tidyverse.html#replace_na-handle-missing-values" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="introduction-to-the-tidyverse.html#cb127-1" tabindex="-1"></a><span class="co"># Create data with missing values</span></span>
<span id="cb127-2"><a href="introduction-to-the-tidyverse.html#cb127-2" tabindex="-1"></a>data_with_na <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb127-3"><a href="introduction-to-the-tidyverse.html#cb127-3" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">&quot;Alice&quot;</span>, <span class="st">&quot;Bob&quot;</span>, <span class="cn">NA</span>, <span class="st">&quot;David&quot;</span>),</span>
<span id="cb127-4"><a href="introduction-to-the-tidyverse.html#cb127-4" tabindex="-1"></a>  <span class="at">age =</span> <span class="fu">c</span>(<span class="dv">25</span>, <span class="cn">NA</span>, <span class="dv">35</span>, <span class="dv">40</span>),</span>
<span id="cb127-5"><a href="introduction-to-the-tidyverse.html#cb127-5" tabindex="-1"></a>  <span class="at">city =</span> <span class="fu">c</span>(<span class="st">&quot;New York&quot;</span>, <span class="st">&quot;Boston&quot;</span>, <span class="st">&quot;Chicago&quot;</span>, <span class="cn">NA</span>)</span>
<span id="cb127-6"><a href="introduction-to-the-tidyverse.html#cb127-6" tabindex="-1"></a>)</span>
<span id="cb127-7"><a href="introduction-to-the-tidyverse.html#cb127-7" tabindex="-1"></a></span>
<span id="cb127-8"><a href="introduction-to-the-tidyverse.html#cb127-8" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Original data:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Original data:&quot;</code></pre>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="introduction-to-the-tidyverse.html#cb129-1" tabindex="-1"></a>data_with_na</span></code></pre></div>
<pre><code>##    name age     city
## 1 Alice  25 New York
## 2   Bob  NA   Boston
## 3  &lt;NA&gt;  35  Chicago
## 4 David  40     &lt;NA&gt;</code></pre>
<div class="sourceCode" id="cb131"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb131-1"><a href="introduction-to-the-tidyverse.html#cb131-1" tabindex="-1"></a><span class="co"># Replace NA values</span></span>
<span id="cb131-2"><a href="introduction-to-the-tidyverse.html#cb131-2" tabindex="-1"></a>data_cleaned <span class="ot">&lt;-</span> data_with_na <span class="sc">%&gt;%</span></span>
<span id="cb131-3"><a href="introduction-to-the-tidyverse.html#cb131-3" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb131-4"><a href="introduction-to-the-tidyverse.html#cb131-4" tabindex="-1"></a>    <span class="at">name =</span> <span class="fu">replace_na</span>(name, <span class="st">&quot;Unknown&quot;</span>),</span>
<span id="cb131-5"><a href="introduction-to-the-tidyverse.html#cb131-5" tabindex="-1"></a>    <span class="at">age =</span> <span class="fu">replace_na</span>(age, <span class="fu">median</span>(age, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)),</span>
<span id="cb131-6"><a href="introduction-to-the-tidyverse.html#cb131-6" tabindex="-1"></a>    <span class="at">city =</span> <span class="fu">replace_na</span>(city, <span class="st">&quot;Not specified&quot;</span>)</span>
<span id="cb131-7"><a href="introduction-to-the-tidyverse.html#cb131-7" tabindex="-1"></a>  )</span>
<span id="cb131-8"><a href="introduction-to-the-tidyverse.html#cb131-8" tabindex="-1"></a></span>
<span id="cb131-9"><a href="introduction-to-the-tidyverse.html#cb131-9" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;After replacing NA values:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;After replacing NA values:&quot;</code></pre>
<div class="sourceCode" id="cb133"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb133-1"><a href="introduction-to-the-tidyverse.html#cb133-1" tabindex="-1"></a>data_cleaned</span></code></pre></div>
<pre><code>##      name age          city
## 1   Alice  25      New York
## 2     Bob  35        Boston
## 3 Unknown  35       Chicago
## 4   David  40 Not specified</code></pre>
</div>
<div id="which-find-positions" class="section level3 hasAnchor" number="5.3.7">
<h3><span class="header-section-number">5.3.7</span> <code>which()</code>: Find Positions<a href="introduction-to-the-tidyverse.html#which-find-positions" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div class="sourceCode" id="cb135"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb135-1"><a href="introduction-to-the-tidyverse.html#cb135-1" tabindex="-1"></a><span class="co"># Using which to find positions</span></span>
<span id="cb135-2"><a href="introduction-to-the-tidyverse.html#cb135-2" tabindex="-1"></a>sample_vector <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">10</span>, <span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">15</span>, <span class="dv">40</span>, <span class="dv">35</span>)</span>
<span id="cb135-3"><a href="introduction-to-the-tidyverse.html#cb135-3" tabindex="-1"></a></span>
<span id="cb135-4"><a href="introduction-to-the-tidyverse.html#cb135-4" tabindex="-1"></a><span class="co"># Find positions where condition is TRUE</span></span>
<span id="cb135-5"><a href="introduction-to-the-tidyverse.html#cb135-5" tabindex="-1"></a>positions <span class="ot">&lt;-</span> <span class="fu">which</span>(sample_vector <span class="sc">&gt;</span> <span class="dv">20</span>)</span>
<span id="cb135-6"><a href="introduction-to-the-tidyverse.html#cb135-6" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Positions where value &gt; 20:&quot;</span>, <span class="fu">paste</span>(positions, <span class="at">collapse =</span> <span class="st">&quot;, &quot;</span>)))</span></code></pre></div>
<pre><code>## [1] &quot;Positions where value &gt; 20: 2, 3, 5, 6&quot;</code></pre>
<div class="sourceCode" id="cb137"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb137-1"><a href="introduction-to-the-tidyverse.html#cb137-1" tabindex="-1"></a><span class="co"># Use in data frame context</span></span>
<span id="cb137-2"><a href="introduction-to-the-tidyverse.html#cb137-2" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span></span>
<span id="cb137-3"><a href="introduction-to-the-tidyverse.html#cb137-3" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span></span>
<span id="cb137-4"><a href="introduction-to-the-tidyverse.html#cb137-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rank_gdp =</span> <span class="fu">rank</span>(<span class="fu">desc</span>(gdpPercap))) <span class="sc">%&gt;%</span></span>
<span id="cb137-5"><a href="introduction-to-the-tidyverse.html#cb137-5" tabindex="-1"></a>  <span class="fu">filter</span>(rank_gdp <span class="sc">&lt;=</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span></span>
<span id="cb137-6"><a href="introduction-to-the-tidyverse.html#cb137-6" tabindex="-1"></a>  <span class="fu">select</span>(country, gdpPercap, rank_gdp) <span class="sc">%&gt;%</span></span>
<span id="cb137-7"><a href="introduction-to-the-tidyverse.html#cb137-7" tabindex="-1"></a>  <span class="fu">arrange</span>(rank_gdp)</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   country       gdpPercap rank_gdp
##   &lt;fct&gt;             &lt;dbl&gt;    &lt;dbl&gt;
## 1 Norway           49357.        1
## 2 Kuwait           47307.        2
## 3 Singapore        47143.        3
## 4 United States    42952.        4
## 5 Ireland          40676.        5</code></pre>
</div>
</div>
<div id="practical-example-data-analysis-workflow" class="section level2 hasAnchor" number="5.4">
<h2><span class="header-section-number">5.4</span> Practical Example: Data Analysis Workflow<a href="introduction-to-the-tidyverse.html#practical-example-data-analysis-workflow" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>This example analyzes life expectancy patterns across continents, decades, and economic development levels using the gapminder dataset. The goal is to uncover how life expectancy varies when we consider geographic location, time period (1990s vs 2000s), and economic status (GDP per capita categories) simultaneously. The result is a structured summary showing average life expectancy for different combinations of these factors, filtered to ensure statistical reliability.</p>
<p><strong>workflow</strong></p>
<ul>
<li>create categorical variables for time periods and GDP levels</li>
<li>group by continent, decade, and GDP category</li>
<li>calculate summary statistics</li>
<li>remove unreliable small groups</li>
<li>arrange results for easy interpretation.</li>
</ul>
<div class="sourceCode" id="cb139"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb139-1"><a href="introduction-to-the-tidyverse.html#cb139-1" tabindex="-1"></a><span class="co"># Comprehensive analysis: Life expectancy trends by continent</span></span>
<span id="cb139-2"><a href="introduction-to-the-tidyverse.html#cb139-2" tabindex="-1"></a>life_exp_analysis <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb139-3"><a href="introduction-to-the-tidyverse.html#cb139-3" tabindex="-1"></a>  <span class="co"># Filter for recent decades</span></span>
<span id="cb139-4"><a href="introduction-to-the-tidyverse.html#cb139-4" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">&gt;=</span> <span class="dv">1990</span>) <span class="sc">%&gt;%</span></span>
<span id="cb139-5"><a href="introduction-to-the-tidyverse.html#cb139-5" tabindex="-1"></a>  <span class="co"># Create additional variables</span></span>
<span id="cb139-6"><a href="introduction-to-the-tidyverse.html#cb139-6" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb139-7"><a href="introduction-to-the-tidyverse.html#cb139-7" tabindex="-1"></a>    <span class="at">decade =</span> <span class="fu">case_when</span>(</span>
<span id="cb139-8"><a href="introduction-to-the-tidyverse.html#cb139-8" tabindex="-1"></a>      year <span class="sc">%in%</span> <span class="dv">1990</span><span class="sc">:</span><span class="dv">1999</span> <span class="sc">~</span> <span class="st">&quot;1990s&quot;</span>,</span>
<span id="cb139-9"><a href="introduction-to-the-tidyverse.html#cb139-9" tabindex="-1"></a>      year <span class="sc">%in%</span> <span class="dv">2000</span><span class="sc">:</span><span class="dv">2007</span> <span class="sc">~</span> <span class="st">&quot;2000s&quot;</span></span>
<span id="cb139-10"><a href="introduction-to-the-tidyverse.html#cb139-10" tabindex="-1"></a>    ),</span>
<span id="cb139-11"><a href="introduction-to-the-tidyverse.html#cb139-11" tabindex="-1"></a>    <span class="at">gdp_category =</span> <span class="fu">case_when</span>(</span>
<span id="cb139-12"><a href="introduction-to-the-tidyverse.html#cb139-12" tabindex="-1"></a>      gdpPercap <span class="sc">&lt;</span> <span class="dv">2000</span> <span class="sc">~</span> <span class="st">&quot;Low GDP&quot;</span>,</span>
<span id="cb139-13"><a href="introduction-to-the-tidyverse.html#cb139-13" tabindex="-1"></a>      gdpPercap <span class="sc">&lt;</span> <span class="dv">10000</span> <span class="sc">~</span> <span class="st">&quot;Medium GDP&quot;</span>, </span>
<span id="cb139-14"><a href="introduction-to-the-tidyverse.html#cb139-14" tabindex="-1"></a>      gdpPercap <span class="sc">&gt;=</span> <span class="dv">10000</span> <span class="sc">~</span> <span class="st">&quot;High GDP&quot;</span></span>
<span id="cb139-15"><a href="introduction-to-the-tidyverse.html#cb139-15" tabindex="-1"></a>    )</span>
<span id="cb139-16"><a href="introduction-to-the-tidyverse.html#cb139-16" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb139-17"><a href="introduction-to-the-tidyverse.html#cb139-17" tabindex="-1"></a>  <span class="co"># Group and summarize</span></span>
<span id="cb139-18"><a href="introduction-to-the-tidyverse.html#cb139-18" tabindex="-1"></a>  <span class="fu">group_by</span>(continent, decade, gdp_category) <span class="sc">%&gt;%</span></span>
<span id="cb139-19"><a href="introduction-to-the-tidyverse.html#cb139-19" tabindex="-1"></a>  <span class="fu">summarise</span>(</span>
<span id="cb139-20"><a href="introduction-to-the-tidyverse.html#cb139-20" tabindex="-1"></a>    <span class="at">avg_life_exp =</span> <span class="fu">mean</span>(lifeExp),</span>
<span id="cb139-21"><a href="introduction-to-the-tidyverse.html#cb139-21" tabindex="-1"></a>    <span class="at">countries =</span> <span class="fu">n</span>(),</span>
<span id="cb139-22"><a href="introduction-to-the-tidyverse.html#cb139-22" tabindex="-1"></a>    <span class="at">total_pop =</span> <span class="fu">sum</span>(pop),</span>
<span id="cb139-23"><a href="introduction-to-the-tidyverse.html#cb139-23" tabindex="-1"></a>    <span class="at">.groups =</span> <span class="st">&#39;drop&#39;</span></span>
<span id="cb139-24"><a href="introduction-to-the-tidyverse.html#cb139-24" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb139-25"><a href="introduction-to-the-tidyverse.html#cb139-25" tabindex="-1"></a>  <span class="co"># Filter out small groups</span></span>
<span id="cb139-26"><a href="introduction-to-the-tidyverse.html#cb139-26" tabindex="-1"></a>  <span class="fu">filter</span>(countries <span class="sc">&gt;=</span> <span class="dv">3</span>) <span class="sc">%&gt;%</span></span>
<span id="cb139-27"><a href="introduction-to-the-tidyverse.html#cb139-27" tabindex="-1"></a>  <span class="co"># Arrange results</span></span>
<span id="cb139-28"><a href="introduction-to-the-tidyverse.html#cb139-28" tabindex="-1"></a>  <span class="fu">arrange</span>(continent, decade, <span class="fu">desc</span>(avg_life_exp))</span>
<span id="cb139-29"><a href="introduction-to-the-tidyverse.html#cb139-29" tabindex="-1"></a></span>
<span id="cb139-30"><a href="introduction-to-the-tidyverse.html#cb139-30" tabindex="-1"></a><span class="fu">print</span>(<span class="st">&quot;Life expectancy analysis by continent, decade, and GDP category:&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Life expectancy analysis by continent, decade, and GDP category:&quot;</code></pre>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="introduction-to-the-tidyverse.html#cb141-1" tabindex="-1"></a>life_exp_analysis</span></code></pre></div>
<pre><code>## # A tibble: 21 × 6
##    continent decade gdp_category avg_life_exp countries  total_pop
##    &lt;fct&gt;     &lt;chr&gt;  &lt;chr&gt;               &lt;dbl&gt;     &lt;int&gt;      &lt;dbl&gt;
##  1 Africa    1990s  Medium GDP           61.9        28  381335877
##  2 Africa    1990s  Low GDP              50.3        74 1019466696
##  3 Africa    2000s  Medium GDP           59.7        27  632430409
##  4 Africa    2000s  High GDP             58.5         7   13862646
##  5 Africa    2000s  Low GDP              51.5        70 1116970553
##  6 Americas  1990s  High GDP             75.1        10  689423253
##  7 Americas  1990s  Medium GDP           69.9        38  833511034
##  8 Americas  2000s  High GDP             76.3        15  976865109
##  9 Americas  2000s  Medium GDP           72.3        33  755668372
## 10 Asia      1990s  High GDP             75.0        21  479574324
## # ℹ 11 more rows</code></pre>
</div>
<div id="function-summary-table" class="section level2 hasAnchor" number="5.5">
<h2><span class="header-section-number">5.5</span> Function Summary Table<a href="introduction-to-the-tidyverse.html#function-summary-table" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Here’s a comprehensive summary of all the tidyverse functions covered:</p>
<table>
<colgroup>
<col width="31%" />
<col width="40%" />
<col width="28%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>select()</code></td>
<td>Choose specific columns from a dataset</td>
<td><code>select(country, year, pop)</code></td>
</tr>
<tr class="even">
<td><code>filter()</code></td>
<td>Choose specific rows based on conditions</td>
<td><code>filter(year == 2007, pop &gt; 1000000)</code></td>
</tr>
<tr class="odd">
<td><code>mutate()</code></td>
<td>Create new columns or modify existing ones</td>
<td><code>mutate(gdp_total = pop * gdpPercap)</code></td>
</tr>
<tr class="even">
<td><code>transmute()</code></td>
<td>Create new columns and drop all others</td>
<td><code>transmute(country, gdp_billions = gdp/1e9)</code></td>
</tr>
<tr class="odd">
<td><code>arrange()</code></td>
<td>Sort rows by one or more columns</td>
<td><code>arrange(desc(lifeExp))</code></td>
</tr>
<tr class="even">
<td><code>group_by()</code></td>
<td>Group rows for grouped operations</td>
<td><code>group_by(continent, year)</code></td>
</tr>
<tr class="odd">
<td><code>summarise()</code></td>
<td>Calculate summary statistics for groups</td>
<td><code>summarise(mean_life = mean(lifeExp))</code></td>
</tr>
<tr class="even">
<td><code>rename()</code></td>
<td>Change column names</td>
<td><code>rename(life_expectancy = lifeExp)</code></td>
</tr>
<tr class="odd">
<td><code>pivot_longer()</code></td>
<td>Convert wide data to long format (tidy)</td>
<td><code>pivot_longer(cols = c(col1, col2))</code></td>
</tr>
<tr class="even">
<td><code>pivot_wider()</code></td>
<td>Convert long data to wide format</td>
<td><code>pivot_wider(names_from = key)</code></td>
</tr>
<tr class="odd">
<td><code>across()</code></td>
<td>Apply functions to multiple columns at once</td>
<td><code>across(c(col1, col2), mean)</code></td>
</tr>
<tr class="even">
<td><code>recode()</code></td>
<td>Recode values in a column</td>
<td><code>recode(continent, 'Asia' = 'AS')</code></td>
</tr>
<tr class="odd">
<td><code>case_when()</code></td>
<td>Handle multiple conditional logic</td>
<td><code>case_when(pop &lt; 1e6 ~ 'Small')</code></td>
</tr>
<tr class="even">
<td><code>replace_na()</code></td>
<td>Replace missing (NA) values</td>
<td><code>replace_na(column, 'Unknown')</code></td>
</tr>
<tr class="odd">
<td><code>as.numeric()</code></td>
<td>Convert to numeric data type</td>
<td><code>as.numeric(character_column)</code></td>
</tr>
<tr class="even">
<td><code>as.character()</code></td>
<td>Convert to character data type</td>
<td><code>as.character(numeric_column)</code></td>
</tr>
<tr class="odd">
<td><code>which()</code></td>
<td>Find positions where condition is TRUE</td>
<td><code>which(vector &gt; threshold)</code></td>
</tr>
</tbody>
</table>
</div>
<div id="conclusion" class="section level2 hasAnchor" number="5.6">
<h2><span class="header-section-number">5.6</span> Conclusion<a href="introduction-to-the-tidyverse.html#conclusion" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The tidyverse provides a consistent and intuitive grammar for data manipulation in R. By mastering these core functions, you’ll be able to efficiently clean, transform, and analyze data. The key principles to remember are:</p>
<ol style="list-style-type: decimal">
<li><strong>Start with tidy data</strong> - each variable in a column, each observation in a row</li>
<li><strong>Use the pipe operator (<code>%&gt;%</code>)</strong> to chain operations together</li>
<li><strong>Combine functions</strong> to create powerful data manipulation workflows</li>
<li><strong>Group operations</strong> allow for sophisticated analyses across different categories</li>
</ol>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="r-fundamentals.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-visualization-in-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/stends2001/EpiBible/blob/main05-tidyverse-data-wrangling.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["EpiBible.pdf", "EpiBible.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
